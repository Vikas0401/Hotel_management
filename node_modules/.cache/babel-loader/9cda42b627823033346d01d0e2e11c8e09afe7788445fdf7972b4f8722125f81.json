{"ast":null,"code":"import _objectSpread from\"C:/Users/vkale/Documents/Vikas/Hotel_managenment/Hotel_management/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{getBillHistory,filterBills,deleteBillFromHistory,getBillStatistics,exportBillHistoryToPDF,exportSingleBillToPDF,printSingleBill,updateBillPayment}from'../../services/billHistoryService';import{getCurrentUser}from'../../services/authService';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const BillHistory=()=>{var _selectedBill$custome,_selectedBill$custome2,_selectedBill$custome3,_selectedBill$payment,_selectedBill$payment2,_selectedBill$payment3;const[bills,setBills]=useState([]);const[filteredBills,setFilteredBills]=useState([]);const[user,setUser]=useState(null);const[statistics,setStatistics]=useState({});const[filters,setFilters]=useState({customerName:'',startDate:'',endDate:''});const[selectedBill,setSelectedBill]=useState(null);const[editingPayment,setEditingPayment]=useState(false);const[editPaymentData,setEditPaymentData]=useState({jama:0,baki:0});useEffect(()=>{setUser(getCurrentUser());loadBills();loadStatistics();},[]);useEffect(()=>{applyFilters();},[bills,filters]);const loadBills=()=>{const billHistory=getBillHistory();setBills(billHistory);};const loadStatistics=()=>{const stats=getBillStatistics();setStatistics(stats);};const applyFilters=()=>{const filtered=filterBills(filters);setFilteredBills(filtered);};const handleFilterChange=e=>{const{name,value}=e.target;setFilters(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:value}));};const clearFilters=()=>{setFilters({customerName:'',startDate:'',endDate:''});};const handleDeleteBill=billId=>{if(window.confirm('‡§§‡•Å‡§Æ‡•ç‡§π‡§æ‡§≤‡§æ ‡§ñ‡§æ‡§§‡•ç‡§∞‡•Ä ‡§Ü‡§π‡•á ‡§ï‡•Ä ‡§§‡•Å‡§Æ‡•ç‡§π‡•Ä ‡§π‡•á ‡§¨‡§ø‡§≤ ‡§π‡§ü‡§µ‡•Ç ‡§á‡§ö‡•ç‡§õ‡§ø‡§§‡§æ?')){deleteBillFromHistory(billId);loadBills();loadStatistics();setSelectedBill(null);}};const handleExportHistory=()=>{try{const doc=exportBillHistoryToPDF();const fileName=\"\".concat((user===null||user===void 0?void 0:user.hotelName)||'Hotel',\"_bill_history_\").concat(new Date().toISOString().split('T')[0],\".pdf\");doc.save(fileName);// Show success message\nalert('‡§¨‡§ø‡§≤ ‡§á‡§§‡§ø‡§π‡§æ‡§∏ PDF ‡§Æ‡§ß‡•ç‡§Ø‡•á ‡§°‡§æ‡§â‡§®‡§≤‡•ã‡§° ‡§ù‡§æ‡§≤‡§æ!');}catch(error){console.error('Error generating PDF:',error);alert('PDF ‡§¨‡§®‡§µ‡§§‡§æ‡§®‡§æ ‡§§‡•ç‡§∞‡•Å‡§ü‡•Ä ‡§ù‡§æ‡§≤‡•Ä. ‡§ï‡•É‡§™‡§Ø‡§æ ‡§™‡•Å‡§®‡•ç‡§π‡§æ ‡§™‡•ç‡§∞‡§Ø‡§§‡•ç‡§® ‡§ï‡§∞‡§æ.');}};const handleExportSingleBill=bill=>{try{const doc=exportSingleBillToPDF(bill);const fileName=\"\".concat((user===null||user===void 0?void 0:user.hotelName)||'Hotel',\"_bill_\").concat(bill.billNumber,\"_\").concat(bill.date.replace(/\\//g,'-'),\".pdf\");doc.save(fileName);// Show success message\nalert('‡§¨‡§ø‡§≤ PDF ‡§Æ‡§ß‡•ç‡§Ø‡•á ‡§°‡§æ‡§â‡§®‡§≤‡•ã‡§° ‡§ù‡§æ‡§≤‡•á!');}catch(error){console.error('Error generating single bill PDF:',error);alert('PDF ‡§¨‡§®‡§µ‡§§‡§æ‡§®‡§æ ‡§§‡•ç‡§∞‡•Å‡§ü‡•Ä ‡§ù‡§æ‡§≤‡•Ä. ‡§ï‡•É‡§™‡§Ø‡§æ ‡§™‡•Å‡§®‡•ç‡§π‡§æ ‡§™‡•ç‡§∞‡§Ø‡§§‡•ç‡§® ‡§ï‡§∞‡§æ.');}};const handlePrintSingleBill=bill=>{try{printSingleBill(bill);}catch(error){console.error('Error printing bill:',error);alert('‡§™‡•ç‡§∞‡§ø‡§Ç‡§ü ‡§ï‡§∞‡§§‡§æ‡§®‡§æ ‡§§‡•ç‡§∞‡•Å‡§ü‡•Ä ‡§ù‡§æ‡§≤‡•Ä. ‡§ï‡•É‡§™‡§Ø‡§æ ‡§™‡•Å‡§®‡•ç‡§π‡§æ ‡§™‡•ç‡§∞‡§Ø‡§§‡•ç‡§® ‡§ï‡§∞‡§æ.');}};const formatCurrency=amount=>{return\"\\u20B9\".concat(amount.toFixed(2));};const handleEditPayment=bill=>{var _bill$paymentInfo,_bill$paymentInfo2;setEditingPayment(true);setEditPaymentData({jama:((_bill$paymentInfo=bill.paymentInfo)===null||_bill$paymentInfo===void 0?void 0:_bill$paymentInfo.jama)||0,baki:((_bill$paymentInfo2=bill.paymentInfo)===null||_bill$paymentInfo2===void 0?void 0:_bill$paymentInfo2.baki)||bill.total});};const handlePaymentDataChange=e=>{const{name,value}=e.target;const numValue=parseFloat(value)||0;if(name==='jama'){const newBaki=Math.max(0,selectedBill.total-numValue);setEditPaymentData({jama:numValue,baki:newBaki});}};const handleSavePayment=()=>{if(selectedBill){const success=updateBillPayment(selectedBill.id,editPaymentData);if(success){// Update the selected bill with new payment info\nsetSelectedBill(_objectSpread(_objectSpread({},selectedBill),{},{paymentInfo:editPaymentData}));// Reload bills to reflect changes in the table\nloadBills();setEditingPayment(false);alert('‡§™‡•á‡§Æ‡•á‡§Ç‡§ü ‡§Æ‡§æ‡§π‡§ø‡§§‡•Ä ‡§Ø‡§∂‡§∏‡•ç‡§µ‡•Ä‡§∞‡§ø‡§§‡•ç‡§Ø‡§æ ‡§Ö‡§™‡§°‡•á‡§ü ‡§ù‡§æ‡§≤‡•Ä!');}else{alert('‡§™‡•á‡§Æ‡•á‡§Ç‡§ü ‡§Æ‡§æ‡§π‡§ø‡§§‡•Ä ‡§Ö‡§™‡§°‡•á‡§ü ‡§ï‡§∞‡§§‡§æ‡§®‡§æ ‡§§‡•ç‡§∞‡•Å‡§ü‡•Ä ‡§ù‡§æ‡§≤‡•Ä!');}}};const handleCancelEdit=()=>{setEditingPayment(false);setEditPaymentData({jama:0,baki:0});};return/*#__PURE__*/_jsxs(\"div\",{style:{padding:'20px',maxWidth:'1200px',margin:'0 auto'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'30px'},children:[/*#__PURE__*/_jsx(\"h1\",{style:{color:(user===null||user===void 0?void 0:user.hotelId)==='matoshree'?'#C41E3A':'#2c3e50',textAlign:'center',marginBottom:'20px'},className:(user===null||user===void 0?void 0:user.hotelId)==='matoshree'?'marathi-title':'',children:\"\\u092C\\u093F\\u0932 \\u0907\\u0924\\u093F\\u0939\\u093E\\u0938\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(auto-fit, minmax(200px, 1fr))',gap:'15px',marginBottom:'20px'},children:[/*#__PURE__*/_jsxs(\"div\",{className:(user===null||user===void 0?void 0:user.hotelId)==='matoshree'?'card':'',style:{padding:'15px',background:'white',borderRadius:'8px',boxShadow:'0 2px 5px rgba(0,0,0,0.1)',textAlign:'center'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{color:'#007bff',margin:'0 0 10px 0'},children:\"\\u090F\\u0915\\u0942\\u0923 \\u092C\\u093F\\u0932\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'24px',fontWeight:'bold',margin:'0'},children:statistics.totalBills})]}),/*#__PURE__*/_jsxs(\"div\",{className:(user===null||user===void 0?void 0:user.hotelId)==='matoshree'?'card':'',style:{padding:'15px',background:'white',borderRadius:'8px',boxShadow:'0 2px 5px rgba(0,0,0,0.1)',textAlign:'center'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{color:'#28a745',margin:'0 0 10px 0'},children:\"\\u090F\\u0915\\u0942\\u0923 \\u0915\\u092E\\u093E\\u0908\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'24px',fontWeight:'bold',margin:'0'},children:formatCurrency(statistics.totalRevenue||0)})]}),/*#__PURE__*/_jsxs(\"div\",{className:(user===null||user===void 0?void 0:user.hotelId)==='matoshree'?'card':'',style:{padding:'15px',background:'white',borderRadius:'8px',boxShadow:'0 2px 5px rgba(0,0,0,0.1)',textAlign:'center'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{color:'#ffc107',margin:'0 0 10px 0'},children:\"\\u0906\\u091C\\u091A\\u0947 \\u092C\\u093F\\u0932\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'24px',fontWeight:'bold',margin:'0'},children:statistics.todaysBills})]}),/*#__PURE__*/_jsxs(\"div\",{className:(user===null||user===void 0?void 0:user.hotelId)==='matoshree'?'card':'',style:{padding:'15px',background:'white',borderRadius:'8px',boxShadow:'0 2px 5px rgba(0,0,0,0.1)',textAlign:'center'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{color:'#dc3545',margin:'0 0 10px 0'},children:\"\\u0906\\u091C\\u091A\\u0940 \\u0915\\u092E\\u093E\\u0908\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'24px',fontWeight:'bold',margin:'0'},children:formatCurrency(statistics.todaysRevenue||0)})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:(user===null||user===void 0?void 0:user.hotelId)==='matoshree'?'card':'',style:{padding:'20px',background:'white',borderRadius:'8px',boxShadow:'0 2px 5px rgba(0,0,0,0.1)',marginBottom:'20px'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{color:(user===null||user===void 0?void 0:user.hotelId)==='matoshree'?'#C41E3A':'#2c3e50',marginBottom:'15px'},className:(user===null||user===void 0?void 0:user.hotelId)==='matoshree'?'marathi-header':'',children:\"\\u092B\\u093F\\u0932\\u094D\\u091F\\u0930\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(auto-fit, minmax(200px, 1fr))',gap:'15px',alignItems:'end'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'5px',fontWeight:'500'},children:\"\\u0917\\u094D\\u0930\\u093E\\u0939\\u0915\\u093E\\u091A\\u0947 \\u0928\\u093E\\u0935\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"customerName\",value:filters.customerName,onChange:handleFilterChange,placeholder:\"\\u0917\\u094D\\u0930\\u093E\\u0939\\u0915\\u093E\\u091A\\u0947 \\u0928\\u093E\\u0935 \\u0936\\u094B\\u0927\\u093E\",style:{width:'100%',padding:'8px',border:'1px solid #ddd',borderRadius:'4px',fontSize:'14px'}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'5px',fontWeight:'500'},children:\"\\u0938\\u0941\\u0930\\u0941\\u0935\\u093E\\u0924\\u0940\\u091A\\u0940 \\u0924\\u093E\\u0930\\u0940\\u0916\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"startDate\",value:filters.startDate,onChange:handleFilterChange,style:{width:'100%',padding:'8px',border:'1px solid #ddd',borderRadius:'4px',fontSize:'14px'}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'5px',fontWeight:'500'},children:\"\\u0905\\u0902\\u0924\\u093F\\u092E \\u0924\\u093E\\u0930\\u0940\\u0916\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"endDate\",value:filters.endDate,onChange:handleFilterChange,style:{width:'100%',padding:'8px',border:'1px solid #ddd',borderRadius:'4px',fontSize:'14px'}})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'10px'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:clearFilters,style:{padding:'8px 16px',background:'#6c757d',color:'white',border:'none',borderRadius:'4px',cursor:'pointer',fontSize:'14px'},children:\"\\u092B\\u093F\\u0932\\u094D\\u091F\\u0930 \\u0938\\u093E\\u092B \\u0915\\u0930\\u093E\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleExportHistory,style:{padding:'8px 16px',background:(user===null||user===void 0?void 0:user.hotelId)==='matoshree'?'#C41E3A':'#007bff',color:'white',border:'none',borderRadius:'4px',cursor:'pointer',fontSize:'14px'},children:\"\\uD83D\\uDCC4 PDF \\u090F\\u0915\\u094D\\u0938\\u092A\\u094B\\u0930\\u094D\\u091F \\u0915\\u0930\\u093E\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:(user===null||user===void 0?void 0:user.hotelId)==='matoshree'?'card':'',style:{background:'white',borderRadius:'8px',boxShadow:'0 2px 5px rgba(0,0,0,0.1)',overflow:'hidden'},children:[/*#__PURE__*/_jsx(\"div\",{style:{padding:'20px',borderBottom:'1px solid #eee'},children:/*#__PURE__*/_jsxs(\"h3\",{style:{color:(user===null||user===void 0?void 0:user.hotelId)==='matoshree'?'#C41E3A':'#2c3e50',margin:'0'},className:(user===null||user===void 0?void 0:user.hotelId)==='matoshree'?'marathi-header':'',children:[\"\\u092C\\u093F\\u0932 \\u092F\\u093E\\u0926\\u0940 (\",filteredBills.length,\")\"]})}),filteredBills.length===0?/*#__PURE__*/_jsx(\"div\",{style:{padding:'40px',textAlign:'center',color:'#666'},children:/*#__PURE__*/_jsx(\"p\",{children:\"\\u0915\\u094B\\u0923\\u0924\\u0947\\u0939\\u0940 \\u092C\\u093F\\u0932 \\u0938\\u093E\\u092A\\u0921\\u0932\\u0947 \\u0928\\u093E\\u0939\\u0940\\u0924\"})}):/*#__PURE__*/_jsx(\"div\",{style:{overflowX:'auto'},children:/*#__PURE__*/_jsxs(\"table\",{style:{width:'100%',borderCollapse:'collapse',fontSize:'14px'},children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{style:{background:'#f8f9fa'},children:[/*#__PURE__*/_jsx(\"th\",{style:{padding:'12px',textAlign:'left',borderBottom:'2px solid #dee2e6'},children:\"\\u092C\\u093F\\u0932 \\u0928\\u0902.\"}),/*#__PURE__*/_jsx(\"th\",{style:{padding:'12px',textAlign:'left',borderBottom:'2px solid #dee2e6'},children:\"\\u0924\\u093E\\u0930\\u0940\\u0916\"}),/*#__PURE__*/_jsx(\"th\",{style:{padding:'12px',textAlign:'left',borderBottom:'2px solid #dee2e6'},children:\"\\u0917\\u094D\\u0930\\u093E\\u0939\\u0915\"}),/*#__PURE__*/_jsx(\"th\",{style:{padding:'12px',textAlign:'left',borderBottom:'2px solid #dee2e6'},children:\"\\u091F\\u0947\\u092C\\u0932\"}),/*#__PURE__*/_jsx(\"th\",{style:{padding:'12px',textAlign:'right',borderBottom:'2px solid #dee2e6'},children:\"\\u0930\\u0915\\u094D\\u0915\\u092E\"}),/*#__PURE__*/_jsx(\"th\",{style:{padding:'12px',textAlign:'right',borderBottom:'2px solid #dee2e6'},children:\"\\u091C\\u092E\\u093E\"}),/*#__PURE__*/_jsx(\"th\",{style:{padding:'12px',textAlign:'right',borderBottom:'2px solid #dee2e6'},children:\"\\u092C\\u093E\\u0915\\u0940\"}),/*#__PURE__*/_jsx(\"th\",{style:{padding:'12px',textAlign:'center',borderBottom:'2px solid #dee2e6'},children:\"\\u0915\\u0943\\u0924\\u0940\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:filteredBills.map((bill,index)=>{var _bill$customerInfo,_bill$customerInfo2,_bill$paymentInfo3,_bill$paymentInfo4,_bill$paymentInfo5;return/*#__PURE__*/_jsxs(\"tr\",{style:{borderBottom:'1px solid #eee',background:index%2===0?'white':'#f8f9fa'},children:[/*#__PURE__*/_jsx(\"td\",{style:{padding:'12px'},children:bill.billNumber}),/*#__PURE__*/_jsx(\"td\",{style:{padding:'12px'},children:bill.date}),/*#__PURE__*/_jsx(\"td\",{style:{padding:'12px'},children:((_bill$customerInfo=bill.customerInfo)===null||_bill$customerInfo===void 0?void 0:_bill$customerInfo.name)||'-'}),/*#__PURE__*/_jsx(\"td\",{style:{padding:'12px'},children:((_bill$customerInfo2=bill.customerInfo)===null||_bill$customerInfo2===void 0?void 0:_bill$customerInfo2.tableNumber)||'-'}),/*#__PURE__*/_jsx(\"td\",{style:{padding:'12px',textAlign:'right',fontWeight:'bold'},children:formatCurrency(bill.total)}),/*#__PURE__*/_jsx(\"td\",{style:{padding:'12px',textAlign:'right'},children:formatCurrency(((_bill$paymentInfo3=bill.paymentInfo)===null||_bill$paymentInfo3===void 0?void 0:_bill$paymentInfo3.jama)||0)}),/*#__PURE__*/_jsx(\"td\",{style:{padding:'12px',textAlign:'right',color:(((_bill$paymentInfo4=bill.paymentInfo)===null||_bill$paymentInfo4===void 0?void 0:_bill$paymentInfo4.baki)||bill.total)>0?'#dc3545':'#28a745',fontWeight:'bold'},children:formatCurrency(((_bill$paymentInfo5=bill.paymentInfo)===null||_bill$paymentInfo5===void 0?void 0:_bill$paymentInfo5.baki)||bill.total)}),/*#__PURE__*/_jsxs(\"td\",{style:{padding:'12px',textAlign:'center'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSelectedBill(bill),style:{padding:'4px 8px',background:'#007bff',color:'white',border:'none',borderRadius:'3px',cursor:'pointer',fontSize:'12px',marginRight:'3px',marginBottom:'3px'},children:\"\\u092A\\u0939\\u093E\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handlePrintSingleBill(bill),style:{padding:'4px 8px',background:'#28a745',color:'white',border:'none',borderRadius:'3px',cursor:'pointer',fontSize:'12px',marginRight:'3px',marginBottom:'3px'},children:\"\\uD83D\\uDDA8\\uFE0F \\u092A\\u094D\\u0930\\u093F\\u0902\\u091F\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDeleteBill(bill.id),style:{padding:'4px 8px',background:'#dc3545',color:'white',border:'none',borderRadius:'3px',cursor:'pointer',fontSize:'12px',marginBottom:'3px'},children:\"\\u0939\\u091F\\u0935\\u093E\"})]})]},bill.id);})})]})})]}),selectedBill&&/*#__PURE__*/_jsx(\"div\",{style:{position:'fixed',top:'0',left:'0',right:'0',bottom:'0',background:'rgba(0,0,0,0.5)',display:'flex',alignItems:'center',justifyContent:'center',zIndex:1000},children:/*#__PURE__*/_jsxs(\"div\",{style:{background:'white',padding:'20px',borderRadius:'8px',maxWidth:'600px',maxHeight:'80vh',overflow:'auto',width:'90%'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',marginBottom:'20px'},children:[/*#__PURE__*/_jsxs(\"h3\",{style:{margin:'0',color:(user===null||user===void 0?void 0:user.hotelId)==='matoshree'?'#C41E3A':'#2c3e50'},children:[\"\\u092C\\u093F\\u0932 \\u0924\\u092A\\u0936\\u0940\\u0932 - \",selectedBill.billNumber]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'10px',alignItems:'center'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleExportSingleBill(selectedBill),style:{padding:'6px 12px',background:'#28a745',color:'white',border:'none',borderRadius:'4px',cursor:'pointer',fontSize:'12px',display:'flex',alignItems:'center',gap:'5px'},children:\"\\uD83D\\uDCC4 PDF \\u0921\\u093E\\u0909\\u0928\\u0932\\u094B\\u0921\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setSelectedBill(null);setEditingPayment(false);setEditPaymentData({jama:0,baki:0});},style:{background:'none',border:'none',fontSize:'24px',cursor:'pointer',color:'#666'},children:\"\\xD7\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'15px'},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u0917\\u094D\\u0930\\u093E\\u0939\\u0915 \\u092E\\u093E\\u0939\\u093F\\u0924\\u0940:\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u0928\\u093E\\u0935: \",((_selectedBill$custome=selectedBill.customerInfo)===null||_selectedBill$custome===void 0?void 0:_selectedBill$custome.name)||'-']}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u091F\\u0947\\u092C\\u0932: \",((_selectedBill$custome2=selectedBill.customerInfo)===null||_selectedBill$custome2===void 0?void 0:_selectedBill$custome2.tableNumber)||'-']}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u092E\\u094B\\u092C\\u093E\\u0907\\u0932: \",((_selectedBill$custome3=selectedBill.customerInfo)===null||_selectedBill$custome3===void 0?void 0:_selectedBill$custome3.phoneNumber)||'-']})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'15px'},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u092C\\u093F\\u0932 \\u092E\\u093E\\u0939\\u093F\\u0924\\u0940:\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u0924\\u093E\\u0930\\u0940\\u0916: \",selectedBill.date]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u0935\\u0947\\u0933: \",selectedBill.time]})]}),/*#__PURE__*/_jsxs(\"table\",{style:{width:'100%',borderCollapse:'collapse',marginBottom:'15px'},children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{style:{background:'#f8f9fa'},children:[/*#__PURE__*/_jsx(\"th\",{style:{padding:'8px',border:'1px solid #ddd'},children:\"\\u0906\\u092F\\u091F\\u092E\"}),/*#__PURE__*/_jsx(\"th\",{style:{padding:'8px',border:'1px solid #ddd'},children:\"\\u0926\\u0930\"}),/*#__PURE__*/_jsx(\"th\",{style:{padding:'8px',border:'1px solid #ddd'},children:\"\\u0938\\u0902\\u0916\\u094D\\u092F\\u093E\"}),/*#__PURE__*/_jsx(\"th\",{style:{padding:'8px',border:'1px solid #ddd'},children:\"\\u0930\\u0915\\u094D\\u0915\\u092E\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:selectedBill.items.map((item,index)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{style:{padding:'8px',border:'1px solid #ddd'},children:item.name}),/*#__PURE__*/_jsxs(\"td\",{style:{padding:'8px',border:'1px solid #ddd'},children:[\"\\u20B9\",item.rate]}),/*#__PURE__*/_jsx(\"td\",{style:{padding:'8px',border:'1px solid #ddd'},children:item.quantity}),/*#__PURE__*/_jsxs(\"td\",{style:{padding:'8px',border:'1px solid #ddd'},children:[\"\\u20B9\",(item.rate*item.quantity).toFixed(2)]})]},index))})]}),/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'right'},children:[/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsxs(\"strong\",{children:[\"\\u0909\\u092A\\u091C\\u094B\\u0921: \",formatCurrency(selectedBill.subtotal)]})}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsxs(\"strong\",{children:[\"\\u091C\\u0940\\u090F\\u0938\\u091F\\u0940 (18%): \",formatCurrency(selectedBill.tax)]})}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'18px',color:(user===null||user===void 0?void 0:user.hotelId)==='matoshree'?'#C41E3A':'#007bff'},children:/*#__PURE__*/_jsxs(\"strong\",{children:[\"\\u090F\\u0915\\u0942\\u0923: \",formatCurrency(selectedBill.total)]})}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:'15px',paddingTop:'15px',borderTop:'1px solid #ddd'},children:editingPayment?/*#__PURE__*//* Edit Mode */_jsxs(\"div\",{style:{textAlign:'left'},children:[/*#__PURE__*/_jsx(\"h4\",{style:{marginBottom:'15px',color:'#2c3e50'},children:\"\\u092A\\u0947\\u092E\\u0947\\u0902\\u091F \\u092E\\u093E\\u0939\\u093F\\u0924\\u0940 \\u0938\\u0902\\u092A\\u093E\\u0926\\u093F\\u0924 \\u0915\\u0930\\u093E\"}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'15px'},children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'5px',fontWeight:'500'},children:\"\\u091C\\u092E\\u093E (Received Amount): \\u20B9\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"jama\",value:editPaymentData.jama,onChange:handlePaymentDataChange,min:\"0\",step:\"0.01\",style:{padding:'8px',border:'1px solid #ddd',borderRadius:'4px',width:'150px',fontSize:'14px'}})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'15px'},children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'5px',fontWeight:'500'},children:\"\\u092C\\u093E\\u0915\\u0940 (Balance): \\u20B9\"}),/*#__PURE__*/_jsx(\"div\",{style:{padding:'8px',border:'1px solid #ddd',borderRadius:'4px',backgroundColor:'#f8f9fa',width:'150px',fontSize:'14px',fontWeight:'bold',color:editPaymentData.baki>0?'#dc3545':'#28a745'},children:editPaymentData.baki.toFixed(2)})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'10px'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleSavePayment,style:{padding:'8px 16px',background:'#28a745',color:'white',border:'none',borderRadius:'4px',cursor:'pointer',fontSize:'14px'},children:\"\\u0938\\u0947\\u0935\\u094D\\u0939 \\u0915\\u0930\\u093E\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleCancelEdit,style:{padding:'8px 16px',background:'#6c757d',color:'white',border:'none',borderRadius:'4px',cursor:'pointer',fontSize:'14px'},children:\"\\u0930\\u0926\\u094D\\u0926 \\u0915\\u0930\\u093E\"})]})]}):/*#__PURE__*//* View Mode */_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',marginBottom:'10px'},children:[/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsxs(\"strong\",{children:[\"\\u091C\\u092E\\u093E (Received): \",formatCurrency(((_selectedBill$payment=selectedBill.paymentInfo)===null||_selectedBill$payment===void 0?void 0:_selectedBill$payment.jama)||0)]})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleEditPayment(selectedBill),style:{padding:'4px 8px',background:'#007bff',color:'white',border:'none',borderRadius:'3px',cursor:'pointer',fontSize:'12px'},children:\"\\u0938\\u0902\\u092A\\u093E\\u0926\\u093F\\u0924 \\u0915\\u0930\\u093E\"})]}),/*#__PURE__*/_jsx(\"p\",{style:{color:(((_selectedBill$payment2=selectedBill.paymentInfo)===null||_selectedBill$payment2===void 0?void 0:_selectedBill$payment2.baki)||selectedBill.total)>0?'#dc3545':'#28a745',fontSize:'16px'},children:/*#__PURE__*/_jsxs(\"strong\",{children:[\"\\u092C\\u093E\\u0915\\u0940 (Balance): \",formatCurrency(((_selectedBill$payment3=selectedBill.paymentInfo)===null||_selectedBill$payment3===void 0?void 0:_selectedBill$payment3.baki)||selectedBill.total)]})})]})})]})]})})]});};export default BillHistory;","map":{"version":3,"names":["React","useState","useEffect","getBillHistory","filterBills","deleteBillFromHistory","getBillStatistics","exportBillHistoryToPDF","exportSingleBillToPDF","printSingleBill","updateBillPayment","getCurrentUser","jsx","_jsx","jsxs","_jsxs","BillHistory","_selectedBill$custome","_selectedBill$custome2","_selectedBill$custome3","_selectedBill$payment","_selectedBill$payment2","_selectedBill$payment3","bills","setBills","filteredBills","setFilteredBills","user","setUser","statistics","setStatistics","filters","setFilters","customerName","startDate","endDate","selectedBill","setSelectedBill","editingPayment","setEditingPayment","editPaymentData","setEditPaymentData","jama","baki","loadBills","loadStatistics","applyFilters","billHistory","stats","filtered","handleFilterChange","e","name","value","target","prev","_objectSpread","clearFilters","handleDeleteBill","billId","window","confirm","handleExportHistory","doc","fileName","concat","hotelName","Date","toISOString","split","save","alert","error","console","handleExportSingleBill","bill","billNumber","date","replace","handlePrintSingleBill","formatCurrency","amount","toFixed","handleEditPayment","_bill$paymentInfo","_bill$paymentInfo2","paymentInfo","total","handlePaymentDataChange","numValue","parseFloat","newBaki","Math","max","handleSavePayment","success","id","handleCancelEdit","style","padding","maxWidth","margin","children","marginBottom","color","hotelId","textAlign","className","display","gridTemplateColumns","gap","background","borderRadius","boxShadow","fontSize","fontWeight","totalBills","totalRevenue","todaysBills","todaysRevenue","alignItems","type","onChange","placeholder","width","border","onClick","cursor","overflow","borderBottom","length","overflowX","borderCollapse","map","index","_bill$customerInfo","_bill$customerInfo2","_bill$paymentInfo3","_bill$paymentInfo4","_bill$paymentInfo5","customerInfo","tableNumber","marginRight","position","top","left","right","bottom","justifyContent","zIndex","maxHeight","phoneNumber","time","items","item","rate","quantity","subtotal","tax","marginTop","paddingTop","borderTop","min","step","backgroundColor"],"sources":["C:/Users/vkale/Documents/Vikas/Hotel_managenment/Hotel_management/src/components/Bill/BillHistory.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { getBillHistory, filterBills, deleteBillFromHistory, getBillStatistics, exportBillHistoryToPDF, exportSingleBillToPDF, printSingleBill, updateBillPayment } from '../../services/billHistoryService';\r\nimport { getCurrentUser } from '../../services/authService';\r\n\r\nconst BillHistory = () => {\r\n    const [bills, setBills] = useState([]);\r\n    const [filteredBills, setFilteredBills] = useState([]);\r\n    const [user, setUser] = useState(null);\r\n    const [statistics, setStatistics] = useState({});\r\n    const [filters, setFilters] = useState({\r\n        customerName: '',\r\n        startDate: '',\r\n        endDate: ''\r\n    });\r\n    const [selectedBill, setSelectedBill] = useState(null);\r\n    const [editingPayment, setEditingPayment] = useState(false);\r\n    const [editPaymentData, setEditPaymentData] = useState({\r\n        jama: 0,\r\n        baki: 0\r\n    });\r\n\r\n    useEffect(() => {\r\n        setUser(getCurrentUser());\r\n        loadBills();\r\n        loadStatistics();\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        applyFilters();\r\n    }, [bills, filters]);\r\n\r\n    const loadBills = () => {\r\n        const billHistory = getBillHistory();\r\n        setBills(billHistory);\r\n    };\r\n\r\n    const loadStatistics = () => {\r\n        const stats = getBillStatistics();\r\n        setStatistics(stats);\r\n    };\r\n\r\n    const applyFilters = () => {\r\n        const filtered = filterBills(filters);\r\n        setFilteredBills(filtered);\r\n    };\r\n\r\n    const handleFilterChange = (e) => {\r\n        const { name, value } = e.target;\r\n        setFilters(prev => ({\r\n            ...prev,\r\n            [name]: value\r\n        }));\r\n    };\r\n\r\n    const clearFilters = () => {\r\n        setFilters({\r\n            customerName: '',\r\n            startDate: '',\r\n            endDate: ''\r\n        });\r\n    };\r\n\r\n    const handleDeleteBill = (billId) => {\r\n        if (window.confirm('‡§§‡•Å‡§Æ‡•ç‡§π‡§æ‡§≤‡§æ ‡§ñ‡§æ‡§§‡•ç‡§∞‡•Ä ‡§Ü‡§π‡•á ‡§ï‡•Ä ‡§§‡•Å‡§Æ‡•ç‡§π‡•Ä ‡§π‡•á ‡§¨‡§ø‡§≤ ‡§π‡§ü‡§µ‡•Ç ‡§á‡§ö‡•ç‡§õ‡§ø‡§§‡§æ?')) {\r\n            deleteBillFromHistory(billId);\r\n            loadBills();\r\n            loadStatistics();\r\n            setSelectedBill(null);\r\n        }\r\n    };\r\n\r\n    const handleExportHistory = () => {\r\n        try {\r\n            const doc = exportBillHistoryToPDF();\r\n            const fileName = `${user?.hotelName || 'Hotel'}_bill_history_${new Date().toISOString().split('T')[0]}.pdf`;\r\n            doc.save(fileName);\r\n            \r\n            // Show success message\r\n            alert('‡§¨‡§ø‡§≤ ‡§á‡§§‡§ø‡§π‡§æ‡§∏ PDF ‡§Æ‡§ß‡•ç‡§Ø‡•á ‡§°‡§æ‡§â‡§®‡§≤‡•ã‡§° ‡§ù‡§æ‡§≤‡§æ!');\r\n        } catch (error) {\r\n            console.error('Error generating PDF:', error);\r\n            alert('PDF ‡§¨‡§®‡§µ‡§§‡§æ‡§®‡§æ ‡§§‡•ç‡§∞‡•Å‡§ü‡•Ä ‡§ù‡§æ‡§≤‡•Ä. ‡§ï‡•É‡§™‡§Ø‡§æ ‡§™‡•Å‡§®‡•ç‡§π‡§æ ‡§™‡•ç‡§∞‡§Ø‡§§‡•ç‡§® ‡§ï‡§∞‡§æ.');\r\n        }\r\n    };\r\n\r\n    const handleExportSingleBill = (bill) => {\r\n        try {\r\n            const doc = exportSingleBillToPDF(bill);\r\n            const fileName = `${user?.hotelName || 'Hotel'}_bill_${bill.billNumber}_${bill.date.replace(/\\//g, '-')}.pdf`;\r\n            doc.save(fileName);\r\n            \r\n            // Show success message\r\n            alert('‡§¨‡§ø‡§≤ PDF ‡§Æ‡§ß‡•ç‡§Ø‡•á ‡§°‡§æ‡§â‡§®‡§≤‡•ã‡§° ‡§ù‡§æ‡§≤‡•á!');\r\n        } catch (error) {\r\n            console.error('Error generating single bill PDF:', error);\r\n            alert('PDF ‡§¨‡§®‡§µ‡§§‡§æ‡§®‡§æ ‡§§‡•ç‡§∞‡•Å‡§ü‡•Ä ‡§ù‡§æ‡§≤‡•Ä. ‡§ï‡•É‡§™‡§Ø‡§æ ‡§™‡•Å‡§®‡•ç‡§π‡§æ ‡§™‡•ç‡§∞‡§Ø‡§§‡•ç‡§® ‡§ï‡§∞‡§æ.');\r\n        }\r\n    };\r\n\r\n    const handlePrintSingleBill = (bill) => {\r\n        try {\r\n            printSingleBill(bill);\r\n        } catch (error) {\r\n            console.error('Error printing bill:', error);\r\n            alert('‡§™‡•ç‡§∞‡§ø‡§Ç‡§ü ‡§ï‡§∞‡§§‡§æ‡§®‡§æ ‡§§‡•ç‡§∞‡•Å‡§ü‡•Ä ‡§ù‡§æ‡§≤‡•Ä. ‡§ï‡•É‡§™‡§Ø‡§æ ‡§™‡•Å‡§®‡•ç‡§π‡§æ ‡§™‡•ç‡§∞‡§Ø‡§§‡•ç‡§® ‡§ï‡§∞‡§æ.');\r\n        }\r\n    };\r\n\r\n    const formatCurrency = (amount) => {\r\n        return `‚Çπ${amount.toFixed(2)}`;\r\n    };\r\n\r\n    const handleEditPayment = (bill) => {\r\n        setEditingPayment(true);\r\n        setEditPaymentData({\r\n            jama: bill.paymentInfo?.jama || 0,\r\n            baki: bill.paymentInfo?.baki || bill.total\r\n        });\r\n    };\r\n\r\n    const handlePaymentDataChange = (e) => {\r\n        const { name, value } = e.target;\r\n        const numValue = parseFloat(value) || 0;\r\n        \r\n        if (name === 'jama') {\r\n            const newBaki = Math.max(0, selectedBill.total - numValue);\r\n            setEditPaymentData({\r\n                jama: numValue,\r\n                baki: newBaki\r\n            });\r\n        }\r\n    };\r\n\r\n    const handleSavePayment = () => {\r\n        if (selectedBill) {\r\n            const success = updateBillPayment(selectedBill.id, editPaymentData);\r\n            if (success) {\r\n                // Update the selected bill with new payment info\r\n                setSelectedBill({\r\n                    ...selectedBill,\r\n                    paymentInfo: editPaymentData\r\n                });\r\n                \r\n                // Reload bills to reflect changes in the table\r\n                loadBills();\r\n                setEditingPayment(false);\r\n                alert('‡§™‡•á‡§Æ‡•á‡§Ç‡§ü ‡§Æ‡§æ‡§π‡§ø‡§§‡•Ä ‡§Ø‡§∂‡§∏‡•ç‡§µ‡•Ä‡§∞‡§ø‡§§‡•ç‡§Ø‡§æ ‡§Ö‡§™‡§°‡•á‡§ü ‡§ù‡§æ‡§≤‡•Ä!');\r\n            } else {\r\n                alert('‡§™‡•á‡§Æ‡•á‡§Ç‡§ü ‡§Æ‡§æ‡§π‡§ø‡§§‡•Ä ‡§Ö‡§™‡§°‡•á‡§ü ‡§ï‡§∞‡§§‡§æ‡§®‡§æ ‡§§‡•ç‡§∞‡•Å‡§ü‡•Ä ‡§ù‡§æ‡§≤‡•Ä!');\r\n            }\r\n        }\r\n    };\r\n\r\n    const handleCancelEdit = () => {\r\n        setEditingPayment(false);\r\n        setEditPaymentData({ jama: 0, baki: 0 });\r\n    };\r\n\r\n    return (\r\n        <div style={{ padding: '20px', maxWidth: '1200px', margin: '0 auto' }}>\r\n            {/* Header */}\r\n            <div style={{ marginBottom: '30px' }}>\r\n                <h1 style={{ \r\n                    color: user?.hotelId === 'matoshree' ? '#C41E3A' : '#2c3e50',\r\n                    textAlign: 'center',\r\n                    marginBottom: '20px'\r\n                }} className={user?.hotelId === 'matoshree' ? 'marathi-title' : ''}>\r\n                    ‡§¨‡§ø‡§≤ ‡§á‡§§‡§ø‡§π‡§æ‡§∏\r\n                </h1>\r\n\r\n                {/* Statistics */}\r\n                <div style={{ \r\n                    display: 'grid', \r\n                    gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))', \r\n                    gap: '15px', \r\n                    marginBottom: '20px' \r\n                }}>\r\n                    <div className={user?.hotelId === 'matoshree' ? 'card' : ''} style={{ \r\n                        padding: '15px', \r\n                        background: 'white', \r\n                        borderRadius: '8px', \r\n                        boxShadow: '0 2px 5px rgba(0,0,0,0.1)',\r\n                        textAlign: 'center'\r\n                    }}>\r\n                        <h3 style={{ color: '#007bff', margin: '0 0 10px 0' }}>‡§è‡§ï‡•Ç‡§£ ‡§¨‡§ø‡§≤</h3>\r\n                        <p style={{ fontSize: '24px', fontWeight: 'bold', margin: '0' }}>{statistics.totalBills}</p>\r\n                    </div>\r\n                    <div className={user?.hotelId === 'matoshree' ? 'card' : ''} style={{ \r\n                        padding: '15px', \r\n                        background: 'white', \r\n                        borderRadius: '8px', \r\n                        boxShadow: '0 2px 5px rgba(0,0,0,0.1)',\r\n                        textAlign: 'center'\r\n                    }}>\r\n                        <h3 style={{ color: '#28a745', margin: '0 0 10px 0' }}>‡§è‡§ï‡•Ç‡§£ ‡§ï‡§Æ‡§æ‡§à</h3>\r\n                        <p style={{ fontSize: '24px', fontWeight: 'bold', margin: '0' }}>{formatCurrency(statistics.totalRevenue || 0)}</p>\r\n                    </div>\r\n                    <div className={user?.hotelId === 'matoshree' ? 'card' : ''} style={{ \r\n                        padding: '15px', \r\n                        background: 'white', \r\n                        borderRadius: '8px', \r\n                        boxShadow: '0 2px 5px rgba(0,0,0,0.1)',\r\n                        textAlign: 'center'\r\n                    }}>\r\n                        <h3 style={{ color: '#ffc107', margin: '0 0 10px 0' }}>‡§Ü‡§ú‡§ö‡•á ‡§¨‡§ø‡§≤</h3>\r\n                        <p style={{ fontSize: '24px', fontWeight: 'bold', margin: '0' }}>{statistics.todaysBills}</p>\r\n                    </div>\r\n                    <div className={user?.hotelId === 'matoshree' ? 'card' : ''} style={{ \r\n                        padding: '15px', \r\n                        background: 'white', \r\n                        borderRadius: '8px', \r\n                        boxShadow: '0 2px 5px rgba(0,0,0,0.1)',\r\n                        textAlign: 'center'\r\n                    }}>\r\n                        <h3 style={{ color: '#dc3545', margin: '0 0 10px 0' }}>‡§Ü‡§ú‡§ö‡•Ä ‡§ï‡§Æ‡§æ‡§à</h3>\r\n                        <p style={{ fontSize: '24px', fontWeight: 'bold', margin: '0' }}>{formatCurrency(statistics.todaysRevenue || 0)}</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Filters */}\r\n            <div className={user?.hotelId === 'matoshree' ? 'card' : ''} style={{ \r\n                padding: '20px', \r\n                background: 'white', \r\n                borderRadius: '8px', \r\n                boxShadow: '0 2px 5px rgba(0,0,0,0.1)',\r\n                marginBottom: '20px'\r\n            }}>\r\n                <h3 style={{ \r\n                    color: user?.hotelId === 'matoshree' ? '#C41E3A' : '#2c3e50', \r\n                    marginBottom: '15px' \r\n                }} className={user?.hotelId === 'matoshree' ? 'marathi-header' : ''}>\r\n                    ‡§´‡§ø‡§≤‡•ç‡§ü‡§∞\r\n                </h3>\r\n                <div style={{ \r\n                    display: 'grid', \r\n                    gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))', \r\n                    gap: '15px', \r\n                    alignItems: 'end' \r\n                }}>\r\n                    <div>\r\n                        <label style={{ display: 'block', marginBottom: '5px', fontWeight: '500' }}>\r\n                            ‡§ó‡•ç‡§∞‡§æ‡§π‡§ï‡§æ‡§ö‡•á ‡§®‡§æ‡§µ\r\n                        </label>\r\n                        <input\r\n                            type=\"text\"\r\n                            name=\"customerName\"\r\n                            value={filters.customerName}\r\n                            onChange={handleFilterChange}\r\n                            placeholder=\"‡§ó‡•ç‡§∞‡§æ‡§π‡§ï‡§æ‡§ö‡•á ‡§®‡§æ‡§µ ‡§∂‡•ã‡§ß‡§æ\"\r\n                            style={{\r\n                                width: '100%',\r\n                                padding: '8px',\r\n                                border: '1px solid #ddd',\r\n                                borderRadius: '4px',\r\n                                fontSize: '14px'\r\n                            }}\r\n                        />\r\n                    </div>\r\n                    <div>\r\n                        <label style={{ display: 'block', marginBottom: '5px', fontWeight: '500' }}>\r\n                            ‡§∏‡•Å‡§∞‡•Å‡§µ‡§æ‡§§‡•Ä‡§ö‡•Ä ‡§§‡§æ‡§∞‡•Ä‡§ñ\r\n                        </label>\r\n                        <input\r\n                            type=\"date\"\r\n                            name=\"startDate\"\r\n                            value={filters.startDate}\r\n                            onChange={handleFilterChange}\r\n                            style={{\r\n                                width: '100%',\r\n                                padding: '8px',\r\n                                border: '1px solid #ddd',\r\n                                borderRadius: '4px',\r\n                                fontSize: '14px'\r\n                            }}\r\n                        />\r\n                    </div>\r\n                    <div>\r\n                        <label style={{ display: 'block', marginBottom: '5px', fontWeight: '500' }}>\r\n                            ‡§Ö‡§Ç‡§§‡§ø‡§Æ ‡§§‡§æ‡§∞‡•Ä‡§ñ\r\n                        </label>\r\n                        <input\r\n                            type=\"date\"\r\n                            name=\"endDate\"\r\n                            value={filters.endDate}\r\n                            onChange={handleFilterChange}\r\n                            style={{\r\n                                width: '100%',\r\n                                padding: '8px',\r\n                                border: '1px solid #ddd',\r\n                                borderRadius: '4px',\r\n                                fontSize: '14px'\r\n                            }}\r\n                        />\r\n                    </div>\r\n                    <div style={{ display: 'flex', gap: '10px' }}>\r\n                        <button\r\n                            onClick={clearFilters}\r\n                            style={{\r\n                                padding: '8px 16px',\r\n                                background: '#6c757d',\r\n                                color: 'white',\r\n                                border: 'none',\r\n                                borderRadius: '4px',\r\n                                cursor: 'pointer',\r\n                                fontSize: '14px'\r\n                            }}\r\n                        >\r\n                            ‡§´‡§ø‡§≤‡•ç‡§ü‡§∞ ‡§∏‡§æ‡§´ ‡§ï‡§∞‡§æ\r\n                        </button>\r\n                        <button\r\n                            onClick={handleExportHistory}\r\n                            style={{\r\n                                padding: '8px 16px',\r\n                                background: user?.hotelId === 'matoshree' ? '#C41E3A' : '#007bff',\r\n                                color: 'white',\r\n                                border: 'none',\r\n                                borderRadius: '4px',\r\n                                cursor: 'pointer',\r\n                                fontSize: '14px'\r\n                            }}\r\n                        >\r\n                            üìÑ PDF ‡§è‡§ï‡•ç‡§∏‡§™‡•ã‡§∞‡•ç‡§ü ‡§ï‡§∞‡§æ\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Bills List */}\r\n            <div className={user?.hotelId === 'matoshree' ? 'card' : ''} style={{ \r\n                background: 'white', \r\n                borderRadius: '8px', \r\n                boxShadow: '0 2px 5px rgba(0,0,0,0.1)',\r\n                overflow: 'hidden'\r\n            }}>\r\n                <div style={{ padding: '20px', borderBottom: '1px solid #eee' }}>\r\n                    <h3 style={{ \r\n                        color: user?.hotelId === 'matoshree' ? '#C41E3A' : '#2c3e50', \r\n                        margin: '0' \r\n                    }} className={user?.hotelId === 'matoshree' ? 'marathi-header' : ''}>\r\n                        ‡§¨‡§ø‡§≤ ‡§Ø‡§æ‡§¶‡•Ä ({filteredBills.length})\r\n                    </h3>\r\n                </div>\r\n\r\n                {filteredBills.length === 0 ? (\r\n                    <div style={{ padding: '40px', textAlign: 'center', color: '#666' }}>\r\n                        <p>‡§ï‡•ã‡§£‡§§‡•á‡§π‡•Ä ‡§¨‡§ø‡§≤ ‡§∏‡§æ‡§™‡§°‡§≤‡•á ‡§®‡§æ‡§π‡•Ä‡§§</p>\r\n                    </div>\r\n                ) : (\r\n                    <div style={{ overflowX: 'auto' }}>\r\n                        <table style={{ \r\n                            width: '100%', \r\n                            borderCollapse: 'collapse',\r\n                            fontSize: '14px'\r\n                        }}>\r\n                            <thead>\r\n                                <tr style={{ background: '#f8f9fa' }}>\r\n                                    <th style={{ padding: '12px', textAlign: 'left', borderBottom: '2px solid #dee2e6' }}>‡§¨‡§ø‡§≤ ‡§®‡§Ç.</th>\r\n                                    <th style={{ padding: '12px', textAlign: 'left', borderBottom: '2px solid #dee2e6' }}>‡§§‡§æ‡§∞‡•Ä‡§ñ</th>\r\n                                    <th style={{ padding: '12px', textAlign: 'left', borderBottom: '2px solid #dee2e6' }}>‡§ó‡•ç‡§∞‡§æ‡§π‡§ï</th>\r\n                                    <th style={{ padding: '12px', textAlign: 'left', borderBottom: '2px solid #dee2e6' }}>‡§ü‡•á‡§¨‡§≤</th>\r\n                                    <th style={{ padding: '12px', textAlign: 'right', borderBottom: '2px solid #dee2e6' }}>‡§∞‡§ï‡•ç‡§ï‡§Æ</th>\r\n                                    <th style={{ padding: '12px', textAlign: 'right', borderBottom: '2px solid #dee2e6' }}>‡§ú‡§Æ‡§æ</th>\r\n                                    <th style={{ padding: '12px', textAlign: 'right', borderBottom: '2px solid #dee2e6' }}>‡§¨‡§æ‡§ï‡•Ä</th>\r\n                                    <th style={{ padding: '12px', textAlign: 'center', borderBottom: '2px solid #dee2e6' }}>‡§ï‡•É‡§§‡•Ä</th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                {filteredBills.map((bill, index) => (\r\n                                    <tr key={bill.id} style={{ \r\n                                        borderBottom: '1px solid #eee',\r\n                                        background: index % 2 === 0 ? 'white' : '#f8f9fa'\r\n                                    }}>\r\n                                        <td style={{ padding: '12px' }}>{bill.billNumber}</td>\r\n                                        <td style={{ padding: '12px' }}>{bill.date}</td>\r\n                                        <td style={{ padding: '12px' }}>{bill.customerInfo?.name || '-'}</td>\r\n                                        <td style={{ padding: '12px' }}>{bill.customerInfo?.tableNumber || '-'}</td>\r\n                                        <td style={{ padding: '12px', textAlign: 'right', fontWeight: 'bold' }}>{formatCurrency(bill.total)}</td>\r\n                                        <td style={{ padding: '12px', textAlign: 'right' }}>{formatCurrency(bill.paymentInfo?.jama || 0)}</td>\r\n                                        <td style={{ \r\n                                            padding: '12px', \r\n                                            textAlign: 'right', \r\n                                            color: (bill.paymentInfo?.baki || bill.total) > 0 ? '#dc3545' : '#28a745',\r\n                                            fontWeight: 'bold'\r\n                                        }}>\r\n                                            {formatCurrency(bill.paymentInfo?.baki || bill.total)}\r\n                                        </td>\r\n                                        <td style={{ padding: '12px', textAlign: 'center' }}>\r\n                                            <button\r\n                                                onClick={() => setSelectedBill(bill)}\r\n                                                style={{\r\n                                                    padding: '4px 8px',\r\n                                                    background: '#007bff',\r\n                                                    color: 'white',\r\n                                                    border: 'none',\r\n                                                    borderRadius: '3px',\r\n                                                    cursor: 'pointer',\r\n                                                    fontSize: '12px',\r\n                                                    marginRight: '3px',\r\n                                                    marginBottom: '3px'\r\n                                                }}\r\n                                            >\r\n                                                ‡§™‡§π‡§æ\r\n                                            </button>\r\n                                            <button\r\n                                                onClick={() => handlePrintSingleBill(bill)}\r\n                                                style={{\r\n                                                    padding: '4px 8px',\r\n                                                    background: '#28a745',\r\n                                                    color: 'white',\r\n                                                    border: 'none',\r\n                                                    borderRadius: '3px',\r\n                                                    cursor: 'pointer',\r\n                                                    fontSize: '12px',\r\n                                                    marginRight: '3px',\r\n                                                    marginBottom: '3px'\r\n                                                }}\r\n                                            >\r\n                                                üñ®Ô∏è ‡§™‡•ç‡§∞‡§ø‡§Ç‡§ü\r\n                                            </button>\r\n                                            <button\r\n                                                onClick={() => handleDeleteBill(bill.id)}\r\n                                                style={{\r\n                                                    padding: '4px 8px',\r\n                                                    background: '#dc3545',\r\n                                                    color: 'white',\r\n                                                    border: 'none',\r\n                                                    borderRadius: '3px',\r\n                                                    cursor: 'pointer',\r\n                                                    fontSize: '12px',\r\n                                                    marginBottom: '3px'\r\n                                                }}\r\n                                            >\r\n                                                ‡§π‡§ü‡§µ‡§æ\r\n                                            </button>\r\n                                        </td>\r\n                                    </tr>\r\n                                ))}\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n                )}\r\n            </div>\r\n\r\n            {/* Bill Detail Modal */}\r\n            {selectedBill && (\r\n                <div style={{\r\n                    position: 'fixed',\r\n                    top: '0',\r\n                    left: '0',\r\n                    right: '0',\r\n                    bottom: '0',\r\n                    background: 'rgba(0,0,0,0.5)',\r\n                    display: 'flex',\r\n                    alignItems: 'center',\r\n                    justifyContent: 'center',\r\n                    zIndex: 1000\r\n                }}>\r\n                    <div style={{\r\n                        background: 'white',\r\n                        padding: '20px',\r\n                        borderRadius: '8px',\r\n                        maxWidth: '600px',\r\n                        maxHeight: '80vh',\r\n                        overflow: 'auto',\r\n                        width: '90%'\r\n                    }}>\r\n                        <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '20px' }}>\r\n                            <h3 style={{ margin: '0', color: user?.hotelId === 'matoshree' ? '#C41E3A' : '#2c3e50' }}>\r\n                                ‡§¨‡§ø‡§≤ ‡§§‡§™‡§∂‡•Ä‡§≤ - {selectedBill.billNumber}\r\n                            </h3>\r\n                            <div style={{ display: 'flex', gap: '10px', alignItems: 'center' }}>\r\n                                <button\r\n                                    onClick={() => handleExportSingleBill(selectedBill)}\r\n                                    style={{\r\n                                        padding: '6px 12px',\r\n                                        background: '#28a745',\r\n                                        color: 'white',\r\n                                        border: 'none',\r\n                                        borderRadius: '4px',\r\n                                        cursor: 'pointer',\r\n                                        fontSize: '12px',\r\n                                        display: 'flex',\r\n                                        alignItems: 'center',\r\n                                        gap: '5px'\r\n                                    }}\r\n                                >\r\n                                    üìÑ PDF ‡§°‡§æ‡§â‡§®‡§≤‡•ã‡§°\r\n                                </button>\r\n                                <button\r\n                                    onClick={() => {\r\n                                        setSelectedBill(null);\r\n                                        setEditingPayment(false);\r\n                                        setEditPaymentData({ jama: 0, baki: 0 });\r\n                                    }}\r\n                                    style={{\r\n                                        background: 'none',\r\n                                        border: 'none',\r\n                                        fontSize: '24px',\r\n                                        cursor: 'pointer',\r\n                                        color: '#666'\r\n                                    }}\r\n                                >\r\n                                    √ó\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div style={{ marginBottom: '15px' }}>\r\n                            <strong>‡§ó‡•ç‡§∞‡§æ‡§π‡§ï ‡§Æ‡§æ‡§π‡§ø‡§§‡•Ä:</strong>\r\n                            <p>‡§®‡§æ‡§µ: {selectedBill.customerInfo?.name || '-'}</p>\r\n                            <p>‡§ü‡•á‡§¨‡§≤: {selectedBill.customerInfo?.tableNumber || '-'}</p>\r\n                            <p>‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤: {selectedBill.customerInfo?.phoneNumber || '-'}</p>\r\n                        </div>\r\n\r\n                        <div style={{ marginBottom: '15px' }}>\r\n                            <strong>‡§¨‡§ø‡§≤ ‡§Æ‡§æ‡§π‡§ø‡§§‡•Ä:</strong>\r\n                            <p>‡§§‡§æ‡§∞‡•Ä‡§ñ: {selectedBill.date}</p>\r\n                            <p>‡§µ‡•á‡§≥: {selectedBill.time}</p>\r\n                        </div>\r\n\r\n                        <table style={{ width: '100%', borderCollapse: 'collapse', marginBottom: '15px' }}>\r\n                            <thead>\r\n                                <tr style={{ background: '#f8f9fa' }}>\r\n                                    <th style={{ padding: '8px', border: '1px solid #ddd' }}>‡§Ü‡§Ø‡§ü‡§Æ</th>\r\n                                    <th style={{ padding: '8px', border: '1px solid #ddd' }}>‡§¶‡§∞</th>\r\n                                    <th style={{ padding: '8px', border: '1px solid #ddd' }}>‡§∏‡§Ç‡§ñ‡•ç‡§Ø‡§æ</th>\r\n                                    <th style={{ padding: '8px', border: '1px solid #ddd' }}>‡§∞‡§ï‡•ç‡§ï‡§Æ</th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                {selectedBill.items.map((item, index) => (\r\n                                    <tr key={index}>\r\n                                        <td style={{ padding: '8px', border: '1px solid #ddd' }}>{item.name}</td>\r\n                                        <td style={{ padding: '8px', border: '1px solid #ddd' }}>‚Çπ{item.rate}</td>\r\n                                        <td style={{ padding: '8px', border: '1px solid #ddd' }}>{item.quantity}</td>\r\n                                        <td style={{ padding: '8px', border: '1px solid #ddd' }}>‚Çπ{(item.rate * item.quantity).toFixed(2)}</td>\r\n                                    </tr>\r\n                                ))}\r\n                            </tbody>\r\n                        </table>\r\n\r\n                        <div style={{ textAlign: 'right' }}>\r\n                            <p><strong>‡§â‡§™‡§ú‡•ã‡§°: {formatCurrency(selectedBill.subtotal)}</strong></p>\r\n                            <p><strong>‡§ú‡•Ä‡§è‡§∏‡§ü‡•Ä (18%): {formatCurrency(selectedBill.tax)}</strong></p>\r\n                            <p style={{ fontSize: '18px', color: user?.hotelId === 'matoshree' ? '#C41E3A' : '#007bff' }}>\r\n                                <strong>‡§è‡§ï‡•Ç‡§£: {formatCurrency(selectedBill.total)}</strong>\r\n                            </p>\r\n                            \r\n                            {/* Payment Information */}\r\n                            <div style={{ marginTop: '15px', paddingTop: '15px', borderTop: '1px solid #ddd' }}>\r\n                                {editingPayment ? (\r\n                                    /* Edit Mode */\r\n                                    <div style={{ textAlign: 'left' }}>\r\n                                        <h4 style={{ marginBottom: '15px', color: '#2c3e50' }}>‡§™‡•á‡§Æ‡•á‡§Ç‡§ü ‡§Æ‡§æ‡§π‡§ø‡§§‡•Ä ‡§∏‡§Ç‡§™‡§æ‡§¶‡§ø‡§§ ‡§ï‡§∞‡§æ</h4>\r\n                                        <div style={{ marginBottom: '15px' }}>\r\n                                            <label style={{ display: 'block', marginBottom: '5px', fontWeight: '500' }}>\r\n                                                ‡§ú‡§Æ‡§æ (Received Amount): ‚Çπ\r\n                                            </label>\r\n                                            <input\r\n                                                type=\"number\"\r\n                                                name=\"jama\"\r\n                                                value={editPaymentData.jama}\r\n                                                onChange={handlePaymentDataChange}\r\n                                                min=\"0\"\r\n                                                step=\"0.01\"\r\n                                                style={{\r\n                                                    padding: '8px',\r\n                                                    border: '1px solid #ddd',\r\n                                                    borderRadius: '4px',\r\n                                                    width: '150px',\r\n                                                    fontSize: '14px'\r\n                                                }}\r\n                                            />\r\n                                        </div>\r\n                                        <div style={{ marginBottom: '15px' }}>\r\n                                            <label style={{ display: 'block', marginBottom: '5px', fontWeight: '500' }}>\r\n                                                ‡§¨‡§æ‡§ï‡•Ä (Balance): ‚Çπ\r\n                                            </label>\r\n                                            <div style={{\r\n                                                padding: '8px',\r\n                                                border: '1px solid #ddd',\r\n                                                borderRadius: '4px',\r\n                                                backgroundColor: '#f8f9fa',\r\n                                                width: '150px',\r\n                                                fontSize: '14px',\r\n                                                fontWeight: 'bold',\r\n                                                color: editPaymentData.baki > 0 ? '#dc3545' : '#28a745'\r\n                                            }}>\r\n                                                {editPaymentData.baki.toFixed(2)}\r\n                                            </div>\r\n                                        </div>\r\n                                        <div style={{ display: 'flex', gap: '10px' }}>\r\n                                            <button\r\n                                                onClick={handleSavePayment}\r\n                                                style={{\r\n                                                    padding: '8px 16px',\r\n                                                    background: '#28a745',\r\n                                                    color: 'white',\r\n                                                    border: 'none',\r\n                                                    borderRadius: '4px',\r\n                                                    cursor: 'pointer',\r\n                                                    fontSize: '14px'\r\n                                                }}\r\n                                            >\r\n                                                ‡§∏‡•á‡§µ‡•ç‡§π ‡§ï‡§∞‡§æ\r\n                                            </button>\r\n                                            <button\r\n                                                onClick={handleCancelEdit}\r\n                                                style={{\r\n                                                    padding: '8px 16px',\r\n                                                    background: '#6c757d',\r\n                                                    color: 'white',\r\n                                                    border: 'none',\r\n                                                    borderRadius: '4px',\r\n                                                    cursor: 'pointer',\r\n                                                    fontSize: '14px'\r\n                                                }}\r\n                                            >\r\n                                                ‡§∞‡§¶‡•ç‡§¶ ‡§ï‡§∞‡§æ\r\n                                            </button>\r\n                                        </div>\r\n                                    </div>\r\n                                ) : (\r\n                                    /* View Mode */\r\n                                    <div>\r\n                                        <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '10px' }}>\r\n                                            <p><strong>‡§ú‡§Æ‡§æ (Received): {formatCurrency(selectedBill.paymentInfo?.jama || 0)}</strong></p>\r\n                                            <button\r\n                                                onClick={() => handleEditPayment(selectedBill)}\r\n                                                style={{\r\n                                                    padding: '4px 8px',\r\n                                                    background: '#007bff',\r\n                                                    color: 'white',\r\n                                                    border: 'none',\r\n                                                    borderRadius: '3px',\r\n                                                    cursor: 'pointer',\r\n                                                    fontSize: '12px'\r\n                                                }}\r\n                                            >\r\n                                                ‡§∏‡§Ç‡§™‡§æ‡§¶‡§ø‡§§ ‡§ï‡§∞‡§æ\r\n                                            </button>\r\n                                        </div>\r\n                                        <p style={{ \r\n                                            color: (selectedBill.paymentInfo?.baki || selectedBill.total) > 0 ? '#dc3545' : '#28a745',\r\n                                            fontSize: '16px'\r\n                                        }}>\r\n                                            <strong>‡§¨‡§æ‡§ï‡•Ä (Balance): {formatCurrency(selectedBill.paymentInfo?.baki || selectedBill.total)}</strong>\r\n                                        </p>\r\n                                    </div>\r\n                                )}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default BillHistory;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"// Hotel credentials and their respective menus\nconst hotelCredentials={\"matoshree\":{username:\"matoshree_admin\",password:\"matoshree@2025\",hotelName:\"हॉटेल मातोश्री\",hotelId:\"matoshree\",isAdmin:true,address:\"वांबोरी, राहुरी, जिल्हा - अहिल्यानगर, महाराष्ट्र - ४१३७०४\"},\"maharashtra\":{username:\"maharashtra_admin\",password:\"maharashtra@2025\",hotelName:\"Maharashtra Hotel\",hotelId:\"maharashtra\",isAdmin:true,address:\"महाराष्ट्र, भारत\"}};export const login=(username,password)=>{// Find matching hotel credentials\nconst hotel=Object.values(hotelCredentials).find(h=>h.username===username&&h.password===password);if(hotel){const userSession={username:hotel.username,hotelName:hotel.hotelName,hotelId:hotel.hotelId,isAdmin:hotel.isAdmin,address:hotel.address,loginTime:new Date().toISOString()};localStorage.setItem(\"user\",JSON.stringify(userSession));localStorage.setItem(\"hotel_name_version\",\"marathi_v1\");// Set session flag to indicate this is a new session\nsessionStorage.setItem(\"user_session\",\"active\");return true;}return false;};export const logout=()=>{localStorage.removeItem(\"user\");localStorage.removeItem(\"hotel_name_version\");sessionStorage.removeItem(\"user_session\");};export const isAuthenticated=()=>{const user=localStorage.getItem(\"user\");const sessionActive=sessionStorage.getItem(\"user_session\");if(user&&sessionActive===\"active\"){// Check if we need to update hotel name to Marathi version\nconst nameVersion=localStorage.getItem(\"hotel_name_version\");if(nameVersion!==\"marathi_v1\"){// Force logout to refresh with new Marathi names\nlocalStorage.removeItem(\"user\");localStorage.removeItem(\"hotel_name_version\");sessionStorage.removeItem(\"user_session\");return false;}return true;}return false;};export const getCurrentUser=()=>{const user=localStorage.getItem(\"user\");const sessionActive=sessionStorage.getItem(\"user_session\");if(user&&sessionActive===\"active\"){const userData=JSON.parse(user);// Check if we need to update hotel name to Marathi version\nconst nameVersion=localStorage.getItem(\"hotel_name_version\");if(nameVersion!==\"marathi_v1\"){// Force logout to refresh with new Marathi names\nlocalStorage.removeItem(\"user\");localStorage.removeItem(\"hotel_name_version\");sessionStorage.removeItem(\"user_session\");return null;}return userData;}return null;};export const getCurrentHotelId=()=>{const user=getCurrentUser();return user?user.hotelId:null;};","map":{"version":3,"names":["hotelCredentials","username","password","hotelName","hotelId","isAdmin","address","login","hotel","Object","values","find","h","userSession","loginTime","Date","toISOString","localStorage","setItem","JSON","stringify","sessionStorage","logout","removeItem","isAuthenticated","user","getItem","sessionActive","nameVersion","getCurrentUser","userData","parse","getCurrentHotelId"],"sources":["C:/Users/vkale/Documents/Vikas/Hotel_managenment/Hotel_management/src/services/authService.js"],"sourcesContent":["// Hotel credentials and their respective menus\nconst hotelCredentials = {\n    \"matoshree\": {\n        username: \"matoshree_admin\",\n        password: \"matoshree@2025\",\n        hotelName: \"हॉटेल मातोश्री\",\n        hotelId: \"matoshree\",\n        isAdmin: true,\n        address: \"वांबोरी, राहुरी, जिल्हा - अहिल्यानगर, महाराष्ट्र - ४१३७०४\"\n    },\n    \"maharashtra\": {\n        username: \"maharashtra_admin\", \n        password: \"maharashtra@2025\",\n        hotelName: \"Maharashtra Hotel\",\n        hotelId: \"maharashtra\",\n        isAdmin: true,\n        address: \"महाराष्ट्र, भारत\"\n    }\n};\n\nexport const login = (username, password) => {\n    // Find matching hotel credentials\n    const hotel = Object.values(hotelCredentials).find(\n        h => h.username === username && h.password === password\n    );\n\n    if (hotel) {\n        const userSession = {\n            username: hotel.username,\n            hotelName: hotel.hotelName,\n            hotelId: hotel.hotelId,\n            isAdmin: hotel.isAdmin,\n            address: hotel.address,\n            loginTime: new Date().toISOString()\n        };\n        localStorage.setItem(\"user\", JSON.stringify(userSession));\n        localStorage.setItem(\"hotel_name_version\", \"marathi_v1\");\n        \n        // Set session flag to indicate this is a new session\n        sessionStorage.setItem(\"user_session\", \"active\");\n        \n        return true;\n    }\n    return false;\n};\n\nexport const logout = () => {\n    localStorage.removeItem(\"user\");\n    localStorage.removeItem(\"hotel_name_version\");\n    sessionStorage.removeItem(\"user_session\");\n};\n\nexport const isAuthenticated = () => {\n    const user = localStorage.getItem(\"user\");\n    const sessionActive = sessionStorage.getItem(\"user_session\");\n    \n    if (user && sessionActive === \"active\") {\n        // Check if we need to update hotel name to Marathi version\n        const nameVersion = localStorage.getItem(\"hotel_name_version\");\n        if (nameVersion !== \"marathi_v1\") {\n            // Force logout to refresh with new Marathi names\n            localStorage.removeItem(\"user\");\n            localStorage.removeItem(\"hotel_name_version\");\n            sessionStorage.removeItem(\"user_session\");\n            return false;\n        }\n        return true;\n    }\n    return false;\n};\n\nexport const getCurrentUser = () => {\n    const user = localStorage.getItem(\"user\");\n    const sessionActive = sessionStorage.getItem(\"user_session\");\n    \n    if (user && sessionActive === \"active\") {\n        const userData = JSON.parse(user);\n        \n        // Check if we need to update hotel name to Marathi version\n        const nameVersion = localStorage.getItem(\"hotel_name_version\");\n        if (nameVersion !== \"marathi_v1\") {\n            // Force logout to refresh with new Marathi names\n            localStorage.removeItem(\"user\");\n            localStorage.removeItem(\"hotel_name_version\");\n            sessionStorage.removeItem(\"user_session\");\n            return null;\n        }\n        \n        return userData;\n    }\n    return null;\n};\n\nexport const getCurrentHotelId = () => {\n    const user = getCurrentUser();\n    return user ? user.hotelId : null;\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
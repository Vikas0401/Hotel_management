{"ast":null,"code":"// Bill History Service for managing saved bills\nimport { getCurrentUser, getCurrentHotelId } from './authService';\nimport jsPDF from 'jspdf';\nimport 'jspdf-autotable';\n\n// Save bill to history\nexport const saveBillToHistory = billData => {\n  const hotelId = getCurrentHotelId();\n  const user = getCurrentUser();\n  if (!hotelId || !billData) return false;\n  const billRecord = {\n    id: 'BILL_' + Date.now(),\n    billNumber: billData.billNumber,\n    date: billData.date,\n    time: billData.time,\n    customerInfo: billData.customerInfo,\n    items: billData.items,\n    subtotal: billData.subtotal,\n    tax: billData.tax,\n    total: billData.total,\n    paymentInfo: billData.paymentInfo || {\n      jama: 0,\n      baki: billData.total || 0\n    },\n    hotelName: user === null || user === void 0 ? void 0 : user.hotelName,\n    savedAt: new Date().toISOString(),\n    savedBy: user === null || user === void 0 ? void 0 : user.username\n  };\n\n  // Get existing bills for this hotel\n  const existingBills = getBillHistory();\n\n  // Add new bill to the beginning of the array\n  const updatedBills = [billRecord, ...existingBills];\n\n  // Save to localStorage\n  localStorage.setItem(`bill_history_${hotelId}`, JSON.stringify(updatedBills));\n  return billRecord.id;\n};\n\n// Get bill history for current hotel\nexport const getBillHistory = () => {\n  const hotelId = getCurrentHotelId();\n  if (!hotelId) return [];\n  const bills = localStorage.getItem(`bill_history_${hotelId}`);\n  return bills ? JSON.parse(bills) : [];\n};\n\n// Get bill by ID\nexport const getBillById = billId => {\n  const bills = getBillHistory();\n  return bills.find(bill => bill.id === billId);\n};\n\n// Delete bill from history\nexport const deleteBillFromHistory = billId => {\n  const hotelId = getCurrentHotelId();\n  if (!hotelId) return false;\n  const bills = getBillHistory();\n  const updatedBills = bills.filter(bill => bill.id !== billId);\n  localStorage.setItem(`bill_history_${hotelId}`, JSON.stringify(updatedBills));\n  return true;\n};\n\n// Update payment information for a specific bill\nexport const updateBillPayment = (billId, paymentInfo) => {\n  const hotelId = getCurrentHotelId();\n  if (!hotelId) return false;\n  const bills = getBillHistory();\n  const updatedBills = bills.map(bill => {\n    if (bill.id === billId) {\n      return {\n        ...bill,\n        paymentInfo: {\n          jama: paymentInfo.jama,\n          baki: paymentInfo.baki\n        },\n        lastUpdated: new Date().toISOString()\n      };\n    }\n    return bill;\n  });\n  localStorage.setItem(`bill_history_${hotelId}`, JSON.stringify(updatedBills));\n  return true;\n};\n\n// Filter bills by customer name and date range\nexport const filterBills = filters => {\n  const bills = getBillHistory();\n  return bills.filter(bill => {\n    // Filter by customer name\n    if (filters.customerName) {\n      var _bill$customerInfo, _bill$customerInfo$na;\n      const customerName = ((_bill$customerInfo = bill.customerInfo) === null || _bill$customerInfo === void 0 ? void 0 : (_bill$customerInfo$na = _bill$customerInfo.name) === null || _bill$customerInfo$na === void 0 ? void 0 : _bill$customerInfo$na.toLowerCase()) || '';\n      const searchName = filters.customerName.toLowerCase();\n      if (!customerName.includes(searchName)) {\n        return false;\n      }\n    }\n\n    // Filter by date range\n    if (filters.startDate) {\n      const billDate = new Date(bill.date);\n      const startDate = new Date(filters.startDate);\n      if (billDate < startDate) {\n        return false;\n      }\n    }\n    if (filters.endDate) {\n      const billDate = new Date(bill.date);\n      const endDate = new Date(filters.endDate);\n      if (billDate > endDate) {\n        return false;\n      }\n    }\n    return true;\n  });\n};\n\n// Get bill statistics\nexport const getBillStatistics = () => {\n  const bills = getBillHistory();\n  const totalBills = bills.length;\n  const totalRevenue = bills.reduce((sum, bill) => sum + bill.total, 0);\n  const averageBillAmount = totalBills > 0 ? totalRevenue / totalBills : 0;\n\n  // Get today's bills\n  const today = new Date().toLocaleDateString();\n  const todaysBills = bills.filter(bill => bill.date === today);\n  const todaysRevenue = todaysBills.reduce((sum, bill) => sum + bill.total, 0);\n  return {\n    totalBills,\n    totalRevenue,\n    averageBillAmount,\n    todaysBills: todaysBills.length,\n    todaysRevenue\n  };\n};\n\n// Export bills to PDF (for backup/download)\nexport const exportBillHistoryToPDF = () => {\n  var _statistics$totalReve, _statistics$todaysRev;\n  const bills = getBillHistory();\n  const user = getCurrentUser();\n  const statistics = getBillStatistics();\n\n  // Create new PDF document\n  const doc = new jsPDF();\n\n  // Set up fonts and colors\n  doc.setFont('helvetica');\n\n  // Header with VK Solutions branding\n  doc.setFillColor(102, 126, 234); // VK brand color\n  doc.rect(0, 0, 210, 25, 'F');\n\n  // VK Solutions logo area (placeholder)\n  doc.setTextColor(255, 255, 255);\n  doc.setFontSize(16);\n  doc.setFont('helvetica', 'bold');\n  doc.text('VK Solutions', 15, 12);\n  doc.setFontSize(10);\n  doc.setFont('helvetica', 'normal');\n  doc.text('Professional Software Development', 15, 18);\n\n  // Contact details on right\n  doc.text('+91 9689517133', 160, 12);\n  doc.text('vikas4kale@gmail.com', 160, 18);\n\n  // Hotel information\n  doc.setTextColor(0, 0, 0);\n  doc.setFontSize(18);\n  doc.setFont('helvetica', 'bold');\n  doc.text(`${(user === null || user === void 0 ? void 0 : user.hotelName) || 'Hotel'} - Bill History Report`, 15, 40);\n\n  // Date and statistics\n  doc.setFontSize(12);\n  doc.setFont('helvetica', 'normal');\n  const currentDate = new Date().toLocaleDateString();\n  doc.text(`Export Date: ${currentDate}`, 15, 50);\n  doc.text(`Total Bills: ${statistics.totalBills}`, 15, 58);\n  doc.text(`Total Revenue: â‚¹${((_statistics$totalReve = statistics.totalRevenue) === null || _statistics$totalReve === void 0 ? void 0 : _statistics$totalReve.toFixed(2)) || '0.00'}`, 15, 66);\n  doc.text(`Today's Bills: ${statistics.todaysBills}`, 110, 58);\n  doc.text(`Today's Revenue: â‚¹${((_statistics$todaysRev = statistics.todaysRevenue) === null || _statistics$todaysRev === void 0 ? void 0 : _statistics$todaysRev.toFixed(2)) || '0.00'}`, 110, 66);\n\n  // Prepare table data\n  const tableData = bills.map(bill => {\n    var _bill$customerInfo2, _bill$customerInfo3, _bill$total, _bill$paymentInfo, _bill$paymentInfo$jam, _bill$paymentInfo2, _bill$paymentInfo2$ba, _bill$total2;\n    return [bill.billNumber, bill.date, ((_bill$customerInfo2 = bill.customerInfo) === null || _bill$customerInfo2 === void 0 ? void 0 : _bill$customerInfo2.name) || '-', ((_bill$customerInfo3 = bill.customerInfo) === null || _bill$customerInfo3 === void 0 ? void 0 : _bill$customerInfo3.tableNumber) || '-', `â‚¹${((_bill$total = bill.total) === null || _bill$total === void 0 ? void 0 : _bill$total.toFixed(2)) || '0.00'}`, `â‚¹${((_bill$paymentInfo = bill.paymentInfo) === null || _bill$paymentInfo === void 0 ? void 0 : (_bill$paymentInfo$jam = _bill$paymentInfo.jama) === null || _bill$paymentInfo$jam === void 0 ? void 0 : _bill$paymentInfo$jam.toFixed(2)) || '0.00'}`, `â‚¹${((_bill$paymentInfo2 = bill.paymentInfo) === null || _bill$paymentInfo2 === void 0 ? void 0 : (_bill$paymentInfo2$ba = _bill$paymentInfo2.baki) === null || _bill$paymentInfo2$ba === void 0 ? void 0 : _bill$paymentInfo2$ba.toFixed(2)) || ((_bill$total2 = bill.total) === null || _bill$total2 === void 0 ? void 0 : _bill$total2.toFixed(2)) || '0.00'}`];\n  });\n\n  // Add table\n  doc.autoTable({\n    head: [['Bill No.', 'Date', 'Customer', 'Table', 'Total Amount', 'Received (Jama)', 'Balance (Baki)']],\n    body: tableData,\n    startY: 75,\n    styles: {\n      fontSize: 9,\n      cellPadding: 3\n    },\n    headStyles: {\n      fillColor: [102, 126, 234],\n      textColor: [255, 255, 255],\n      fontStyle: 'bold'\n    },\n    alternateRowStyles: {\n      fillColor: [248, 249, 250]\n    },\n    columnStyles: {\n      4: {\n        halign: 'right'\n      },\n      // Total Amount\n      5: {\n        halign: 'right'\n      },\n      // Jama\n      6: {\n        halign: 'right',\n        textColor: [220, 53, 69]\n      } // Baki (red for pending)\n    }\n  });\n\n  // Footer\n  const pageCount = doc.internal.getNumberOfPages();\n  for (let i = 1; i <= pageCount; i++) {\n    doc.setPage(i);\n\n    // Add footer\n    doc.setFontSize(8);\n    doc.setTextColor(128, 128, 128);\n    doc.text('Generated by VK Solutions Hotel Management System', 15, 285);\n    doc.text(`Page ${i} of ${pageCount}`, 180, 285);\n\n    // Add timestamp\n    const timestamp = new Date().toLocaleString();\n    doc.text(`Generated on: ${timestamp}`, 15, 290);\n  }\n  return doc;\n};\n\n// Export single bill to PDF\nexport const exportSingleBillToPDF = bill => {\n  var _bill$customerInfo4, _bill$customerInfo5, _bill$customerInfo6, _bill$subtotal, _bill$tax, _bill$total3;\n  const user = getCurrentUser();\n\n  // Create new PDF document\n  const doc = new jsPDF();\n\n  // Set up fonts and colors\n  doc.setFont('helvetica');\n\n  // Header with VK Solutions branding\n  doc.setFillColor(102, 126, 234);\n  doc.rect(0, 0, 210, 25, 'F');\n\n  // VK Solutions branding\n  doc.setTextColor(255, 255, 255);\n  doc.setFontSize(14);\n  doc.setFont('helvetica', 'bold');\n  doc.text('VK Solutions', 15, 12);\n  doc.setFontSize(9);\n  doc.setFont('helvetica', 'normal');\n  doc.text('Professional Software Development', 15, 18);\n  doc.text('+91 9689517133 | vikas4kale@gmail.com', 15, 22);\n\n  // Hotel name and bill info\n  doc.setTextColor(0, 0, 0);\n  doc.setFontSize(20);\n  doc.setFont('helvetica', 'bold');\n  doc.text(`${(user === null || user === void 0 ? void 0 : user.hotelName) || 'Hotel'}`, 15, 40);\n  doc.setFontSize(16);\n  doc.text(`Bill Receipt - ${bill.billNumber}`, 15, 50);\n\n  // Bill details\n  doc.setFontSize(12);\n  doc.setFont('helvetica', 'normal');\n  doc.text(`Date: ${bill.date}`, 15, 65);\n  doc.text(`Time: ${bill.time}`, 15, 72);\n\n  // Customer information\n  if ((_bill$customerInfo4 = bill.customerInfo) !== null && _bill$customerInfo4 !== void 0 && _bill$customerInfo4.name || (_bill$customerInfo5 = bill.customerInfo) !== null && _bill$customerInfo5 !== void 0 && _bill$customerInfo5.tableNumber || (_bill$customerInfo6 = bill.customerInfo) !== null && _bill$customerInfo6 !== void 0 && _bill$customerInfo6.phoneNumber) {\n    var _bill$customerInfo7, _bill$customerInfo8, _bill$customerInfo9;\n    doc.setFont('helvetica', 'bold');\n    doc.text('Customer Information:', 15, 85);\n    doc.setFont('helvetica', 'normal');\n    let yPos = 92;\n    if ((_bill$customerInfo7 = bill.customerInfo) !== null && _bill$customerInfo7 !== void 0 && _bill$customerInfo7.name) {\n      doc.text(`Name: ${bill.customerInfo.name}`, 15, yPos);\n      yPos += 7;\n    }\n    if ((_bill$customerInfo8 = bill.customerInfo) !== null && _bill$customerInfo8 !== void 0 && _bill$customerInfo8.tableNumber) {\n      doc.text(`Table: ${bill.customerInfo.tableNumber}`, 15, yPos);\n      yPos += 7;\n    }\n    if ((_bill$customerInfo9 = bill.customerInfo) !== null && _bill$customerInfo9 !== void 0 && _bill$customerInfo9.phoneNumber) {\n      doc.text(`Phone: ${bill.customerInfo.phoneNumber}`, 15, yPos);\n      yPos += 7;\n    }\n  }\n\n  // Items table\n  const itemsData = bill.items.map(item => [item.name, `â‚¹${item.rate}`, item.quantity.toString(), `â‚¹${(item.rate * item.quantity).toFixed(2)}`]);\n  doc.autoTable({\n    head: [['Item', 'Rate', 'Qty', 'Amount']],\n    body: itemsData,\n    startY: 110,\n    styles: {\n      fontSize: 10,\n      cellPadding: 4\n    },\n    headStyles: {\n      fillColor: [102, 126, 234],\n      textColor: [255, 255, 255],\n      fontStyle: 'bold'\n    },\n    columnStyles: {\n      1: {\n        halign: 'right'\n      },\n      2: {\n        halign: 'center'\n      },\n      3: {\n        halign: 'right'\n      }\n    }\n  });\n\n  // Bill summary\n  const finalY = doc.lastAutoTable.finalY + 10;\n  doc.setFont('helvetica', 'normal');\n  doc.text(`Subtotal: â‚¹${((_bill$subtotal = bill.subtotal) === null || _bill$subtotal === void 0 ? void 0 : _bill$subtotal.toFixed(2)) || '0.00'}`, 130, finalY);\n  doc.text(`GST (18%): â‚¹${((_bill$tax = bill.tax) === null || _bill$tax === void 0 ? void 0 : _bill$tax.toFixed(2)) || '0.00'}`, 130, finalY + 7);\n  doc.setFont('helvetica', 'bold');\n  doc.setFontSize(14);\n  doc.text(`Total: â‚¹${((_bill$total3 = bill.total) === null || _bill$total3 === void 0 ? void 0 : _bill$total3.toFixed(2)) || '0.00'}`, 130, finalY + 17);\n\n  // Payment information\n  if (bill.paymentInfo) {\n    var _bill$paymentInfo$jam2;\n    doc.setFontSize(12);\n    doc.text(`Received (Jama): â‚¹${((_bill$paymentInfo$jam2 = bill.paymentInfo.jama) === null || _bill$paymentInfo$jam2 === void 0 ? void 0 : _bill$paymentInfo$jam2.toFixed(2)) || '0.00'}`, 130, finalY + 27);\n    const baki = bill.paymentInfo.baki || 0;\n    if (baki > 0) {\n      doc.setTextColor(220, 53, 69); // Red for pending balance\n    } else {\n      doc.setTextColor(40, 167, 69); // Green for fully paid\n    }\n    doc.text(`Balance (Baki): â‚¹${baki.toFixed(2)}`, 130, finalY + 34);\n  }\n\n  // Thank you message\n  doc.setTextColor(0, 0, 0);\n  doc.setFontSize(10);\n  doc.setFont('helvetica', 'italic');\n  doc.text(`Thank you for visiting ${(user === null || user === void 0 ? void 0 : user.hotelName) || 'our hotel'}!`, 15, finalY + 50);\n\n  // Footer\n  doc.setFontSize(8);\n  doc.setTextColor(128, 128, 128);\n  doc.text('Powered by VK Solutions Hotel Management System', 15, 280);\n  const timestamp = new Date().toLocaleString();\n  doc.text(`Generated: ${timestamp}`, 15, 285);\n  return doc;\n};\nexport const exportBillHistory = () => {\n  const bills = getBillHistory();\n  const user = getCurrentUser();\n  const exportData = {\n    hotelName: user === null || user === void 0 ? void 0 : user.hotelName,\n    exportDate: new Date().toISOString(),\n    totalBills: bills.length,\n    bills: bills\n  };\n  return JSON.stringify(exportData, null, 2);\n};\n\n// Print single bill (for browser print)\nexport const printSingleBill = bill => {\n  var _bill$customerInfo0, _bill$customerInfo1, _bill$customerInfo10, _bill$customerInfo11, _bill$customerInfo12, _bill$customerInfo13, _bill$subtotal2, _bill$tax2, _bill$total4, _bill$paymentInfo$jam3;\n  const user = getCurrentUser();\n\n  // Create a new window for printing\n  const printWindow = window.open('', '_blank');\n  const printContent = `\n    <!DOCTYPE html>\n    <html>\n    <head>\n        <title>Bill ${bill.billNumber} - ${(user === null || user === void 0 ? void 0 : user.hotelName) || 'Hotel'}</title>\n        <style>\n            body {\n                font-family: Arial, sans-serif;\n                margin: 20px;\n                color: #333;\n            }\n            .header {\n                text-align: center;\n                border-bottom: 2px solid #667eea;\n                padding-bottom: 15px;\n                margin-bottom: 20px;\n            }\n            .vk-branding {\n                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n                color: white;\n                padding: 10px;\n                margin: -20px -20px 20px -20px;\n                font-size: 12px;\n            }\n            .hotel-name {\n                font-size: 24px;\n                font-weight: bold;\n                color: #2c3e50;\n                margin: 10px 0;\n            }\n            .bill-info {\n                display: flex;\n                justify-content: space-between;\n                margin-bottom: 20px;\n                border-bottom: 1px solid #ddd;\n                padding-bottom: 10px;\n            }\n            .customer-info {\n                margin-bottom: 20px;\n                background: #f8f9fa;\n                padding: 15px;\n                border-radius: 5px;\n            }\n            table {\n                width: 100%;\n                border-collapse: collapse;\n                margin-bottom: 20px;\n            }\n            th, td {\n                border: 1px solid #ddd;\n                padding: 8px;\n                text-align: left;\n            }\n            th {\n                background-color: #667eea;\n                color: white;\n                font-weight: bold;\n            }\n            .amount-col {\n                text-align: right;\n            }\n            .bill-summary {\n                text-align: right;\n                font-size: 14px;\n            }\n            .total-row {\n                font-size: 18px;\n                font-weight: bold;\n                color: #2c3e50;\n                border-top: 2px solid #667eea;\n                padding-top: 10px;\n                margin-top: 10px;\n            }\n            .payment-info {\n                background: #e8f4fd;\n                padding: 15px;\n                border-radius: 5px;\n                margin: 15px 0;\n                border: 1px solid #0066cc;\n            }\n            .footer {\n                text-align: center;\n                margin-top: 30px;\n                font-size: 12px;\n                color: #666;\n            }\n            @media print {\n                body { margin: 0; }\n                .vk-branding { margin: 0; }\n            }\n        </style>\n    </head>\n    <body>\n        <div class=\"vk-branding\">\n            <div style=\"display: flex; justify-content: space-between; align-items: center;\">\n                <div>\n                    <strong>VK Solutions</strong> - Professional Software Development\n                </div>\n                <div>\n                    ðŸ“± +91 9689517133 | ðŸ“§ vikas4kale@gmail.com\n                </div>\n            </div>\n        </div>\n\n        <div class=\"header\">\n            <div class=\"hotel-name\">${(user === null || user === void 0 ? void 0 : user.hotelName) || 'Hotel'}</div>\n            <div>Bill Receipt</div>\n        </div>\n\n        <div class=\"bill-info\">\n            <div><strong>Bill No:</strong> ${bill.billNumber}</div>\n            <div><strong>Date:</strong> ${bill.date}</div>\n            <div><strong>Time:</strong> ${bill.time}</div>\n        </div>\n\n        ${(_bill$customerInfo0 = bill.customerInfo) !== null && _bill$customerInfo0 !== void 0 && _bill$customerInfo0.name || (_bill$customerInfo1 = bill.customerInfo) !== null && _bill$customerInfo1 !== void 0 && _bill$customerInfo1.tableNumber || (_bill$customerInfo10 = bill.customerInfo) !== null && _bill$customerInfo10 !== void 0 && _bill$customerInfo10.phoneNumber ? `\n        <div class=\"customer-info\">\n            <h3>Customer Information</h3>\n            ${(_bill$customerInfo11 = bill.customerInfo) !== null && _bill$customerInfo11 !== void 0 && _bill$customerInfo11.name ? `<p><strong>Name:</strong> ${bill.customerInfo.name}</p>` : ''}\n            ${(_bill$customerInfo12 = bill.customerInfo) !== null && _bill$customerInfo12 !== void 0 && _bill$customerInfo12.tableNumber ? `<p><strong>Table:</strong> ${bill.customerInfo.tableNumber}</p>` : ''}\n            ${(_bill$customerInfo13 = bill.customerInfo) !== null && _bill$customerInfo13 !== void 0 && _bill$customerInfo13.phoneNumber ? `<p><strong>Phone:</strong> ${bill.customerInfo.phoneNumber}</p>` : ''}\n        </div>\n        ` : ''}\n\n        <table>\n            <thead>\n                <tr>\n                    <th>Item</th>\n                    <th>Rate</th>\n                    <th>Qty</th>\n                    <th class=\"amount-col\">Amount</th>\n                </tr>\n            </thead>\n            <tbody>\n                ${bill.items.map(item => `\n                    <tr>\n                        <td>${item.name}</td>\n                        <td>â‚¹${item.rate}</td>\n                        <td>${item.quantity}</td>\n                        <td class=\"amount-col\">â‚¹${(item.rate * item.quantity).toFixed(2)}</td>\n                    </tr>\n                `).join('')}\n            </tbody>\n        </table>\n\n        <div class=\"bill-summary\">\n            <div>Subtotal: â‚¹${((_bill$subtotal2 = bill.subtotal) === null || _bill$subtotal2 === void 0 ? void 0 : _bill$subtotal2.toFixed(2)) || '0.00'}</div>\n            <div>GST (18%): â‚¹${((_bill$tax2 = bill.tax) === null || _bill$tax2 === void 0 ? void 0 : _bill$tax2.toFixed(2)) || '0.00'}</div>\n            <div class=\"total-row\">Total: â‚¹${((_bill$total4 = bill.total) === null || _bill$total4 === void 0 ? void 0 : _bill$total4.toFixed(2)) || '0.00'}</div>\n        </div>\n\n        ${bill.paymentInfo ? `\n        <div class=\"payment-info\">\n            <h3>Payment Information</h3>\n            <div style=\"display: flex; justify-content: space-between;\">\n                <span>Received (à¤œà¤®à¤¾):</span>\n                <span>â‚¹${((_bill$paymentInfo$jam3 = bill.paymentInfo.jama) === null || _bill$paymentInfo$jam3 === void 0 ? void 0 : _bill$paymentInfo$jam3.toFixed(2)) || '0.00'}</span>\n            </div>\n            <div style=\"display: flex; justify-content: space-between; margin-top: 10px; font-weight: bold; color: ${(bill.paymentInfo.baki || 0) > 0 ? '#dc3545' : '#28a745'};\">\n                <span>Balance (à¤¬à¤¾à¤•à¥€):</span>\n                <span>â‚¹${(bill.paymentInfo.baki || bill.total || 0).toFixed(2)}</span>\n            </div>\n        </div>\n        ` : ''}\n\n        <div class=\"footer\">\n            <p>Thank you for visiting ${(user === null || user === void 0 ? void 0 : user.hotelName) || 'our hotel'}!</p>\n            <p>Powered by VK Solutions Hotel Management System</p>\n        </div>\n\n        <script>\n            window.onload = function() {\n                window.print();\n                window.onafterprint = function() {\n                    window.close();\n                };\n            };\n        </script>\n    </body>\n    </html>\n    `;\n  printWindow.document.write(printContent);\n  printWindow.document.close();\n  return true;\n};","map":{"version":3,"names":["getCurrentUser","getCurrentHotelId","jsPDF","saveBillToHistory","billData","hotelId","user","billRecord","id","Date","now","billNumber","date","time","customerInfo","items","subtotal","tax","total","paymentInfo","jama","baki","hotelName","savedAt","toISOString","savedBy","username","existingBills","getBillHistory","updatedBills","localStorage","setItem","JSON","stringify","bills","getItem","parse","getBillById","billId","find","bill","deleteBillFromHistory","filter","updateBillPayment","map","lastUpdated","filterBills","filters","customerName","_bill$customerInfo","_bill$customerInfo$na","name","toLowerCase","searchName","includes","startDate","billDate","endDate","getBillStatistics","totalBills","length","totalRevenue","reduce","sum","averageBillAmount","today","toLocaleDateString","todaysBills","todaysRevenue","exportBillHistoryToPDF","_statistics$totalReve","_statistics$todaysRev","statistics","doc","setFont","setFillColor","rect","setTextColor","setFontSize","text","currentDate","toFixed","tableData","_bill$customerInfo2","_bill$customerInfo3","_bill$total","_bill$paymentInfo","_bill$paymentInfo$jam","_bill$paymentInfo2","_bill$paymentInfo2$ba","_bill$total2","tableNumber","autoTable","head","body","startY","styles","fontSize","cellPadding","headStyles","fillColor","textColor","fontStyle","alternateRowStyles","columnStyles","halign","pageCount","internal","getNumberOfPages","i","setPage","timestamp","toLocaleString","exportSingleBillToPDF","_bill$customerInfo4","_bill$customerInfo5","_bill$customerInfo6","_bill$subtotal","_bill$tax","_bill$total3","phoneNumber","_bill$customerInfo7","_bill$customerInfo8","_bill$customerInfo9","yPos","itemsData","item","rate","quantity","toString","finalY","lastAutoTable","_bill$paymentInfo$jam2","exportBillHistory","exportData","exportDate","printSingleBill","_bill$customerInfo0","_bill$customerInfo1","_bill$customerInfo10","_bill$customerInfo11","_bill$customerInfo12","_bill$customerInfo13","_bill$subtotal2","_bill$tax2","_bill$total4","_bill$paymentInfo$jam3","printWindow","window","open","printContent","join","document","write","close"],"sources":["C:/Users/vkale/Documents/Vikas/Hotel_managenment/Hotel_management/src/services/billHistoryService.js"],"sourcesContent":["// Bill History Service for managing saved bills\r\nimport { getCurrentUser, getCurrentHotelId } from './authService';\r\nimport jsPDF from 'jspdf';\r\nimport 'jspdf-autotable';\r\n\r\n// Save bill to history\r\nexport const saveBillToHistory = (billData) => {\r\n    const hotelId = getCurrentHotelId();\r\n    const user = getCurrentUser();\r\n    \r\n    if (!hotelId || !billData) return false;\r\n    \r\n    const billRecord = {\r\n        id: 'BILL_' + Date.now(),\r\n        billNumber: billData.billNumber,\r\n        date: billData.date,\r\n        time: billData.time,\r\n        customerInfo: billData.customerInfo,\r\n        items: billData.items,\r\n        subtotal: billData.subtotal,\r\n        tax: billData.tax,\r\n        total: billData.total,\r\n        paymentInfo: billData.paymentInfo || { jama: 0, baki: billData.total || 0 },\r\n        hotelName: user?.hotelName,\r\n        savedAt: new Date().toISOString(),\r\n        savedBy: user?.username\r\n    };\r\n    \r\n    // Get existing bills for this hotel\r\n    const existingBills = getBillHistory();\r\n    \r\n    // Add new bill to the beginning of the array\r\n    const updatedBills = [billRecord, ...existingBills];\r\n    \r\n    // Save to localStorage\r\n    localStorage.setItem(`bill_history_${hotelId}`, JSON.stringify(updatedBills));\r\n    \r\n    return billRecord.id;\r\n};\r\n\r\n// Get bill history for current hotel\r\nexport const getBillHistory = () => {\r\n    const hotelId = getCurrentHotelId();\r\n    if (!hotelId) return [];\r\n    \r\n    const bills = localStorage.getItem(`bill_history_${hotelId}`);\r\n    return bills ? JSON.parse(bills) : [];\r\n};\r\n\r\n// Get bill by ID\r\nexport const getBillById = (billId) => {\r\n    const bills = getBillHistory();\r\n    return bills.find(bill => bill.id === billId);\r\n};\r\n\r\n// Delete bill from history\r\nexport const deleteBillFromHistory = (billId) => {\r\n    const hotelId = getCurrentHotelId();\r\n    if (!hotelId) return false;\r\n    \r\n    const bills = getBillHistory();\r\n    const updatedBills = bills.filter(bill => bill.id !== billId);\r\n    \r\n    localStorage.setItem(`bill_history_${hotelId}`, JSON.stringify(updatedBills));\r\n    return true;\r\n};\r\n\r\n// Update payment information for a specific bill\r\nexport const updateBillPayment = (billId, paymentInfo) => {\r\n    const hotelId = getCurrentHotelId();\r\n    if (!hotelId) return false;\r\n    \r\n    const bills = getBillHistory();\r\n    const updatedBills = bills.map(bill => {\r\n        if (bill.id === billId) {\r\n            return {\r\n                ...bill,\r\n                paymentInfo: {\r\n                    jama: paymentInfo.jama,\r\n                    baki: paymentInfo.baki\r\n                },\r\n                lastUpdated: new Date().toISOString()\r\n            };\r\n        }\r\n        return bill;\r\n    });\r\n    \r\n    localStorage.setItem(`bill_history_${hotelId}`, JSON.stringify(updatedBills));\r\n    return true;\r\n};\r\n\r\n// Filter bills by customer name and date range\r\nexport const filterBills = (filters) => {\r\n    const bills = getBillHistory();\r\n    \r\n    return bills.filter(bill => {\r\n        // Filter by customer name\r\n        if (filters.customerName) {\r\n            const customerName = bill.customerInfo?.name?.toLowerCase() || '';\r\n            const searchName = filters.customerName.toLowerCase();\r\n            if (!customerName.includes(searchName)) {\r\n                return false;\r\n            }\r\n        }\r\n        \r\n        // Filter by date range\r\n        if (filters.startDate) {\r\n            const billDate = new Date(bill.date);\r\n            const startDate = new Date(filters.startDate);\r\n            if (billDate < startDate) {\r\n                return false;\r\n            }\r\n        }\r\n        \r\n        if (filters.endDate) {\r\n            const billDate = new Date(bill.date);\r\n            const endDate = new Date(filters.endDate);\r\n            if (billDate > endDate) {\r\n                return false;\r\n            }\r\n        }\r\n        \r\n        return true;\r\n    });\r\n};\r\n\r\n// Get bill statistics\r\nexport const getBillStatistics = () => {\r\n    const bills = getBillHistory();\r\n    \r\n    const totalBills = bills.length;\r\n    const totalRevenue = bills.reduce((sum, bill) => sum + bill.total, 0);\r\n    const averageBillAmount = totalBills > 0 ? totalRevenue / totalBills : 0;\r\n    \r\n    // Get today's bills\r\n    const today = new Date().toLocaleDateString();\r\n    const todaysBills = bills.filter(bill => bill.date === today);\r\n    const todaysRevenue = todaysBills.reduce((sum, bill) => sum + bill.total, 0);\r\n    \r\n    return {\r\n        totalBills,\r\n        totalRevenue,\r\n        averageBillAmount,\r\n        todaysBills: todaysBills.length,\r\n        todaysRevenue\r\n    };\r\n};\r\n\r\n// Export bills to PDF (for backup/download)\r\nexport const exportBillHistoryToPDF = () => {\r\n    const bills = getBillHistory();\r\n    const user = getCurrentUser();\r\n    const statistics = getBillStatistics();\r\n    \r\n    // Create new PDF document\r\n    const doc = new jsPDF();\r\n    \r\n    // Set up fonts and colors\r\n    doc.setFont('helvetica');\r\n    \r\n    // Header with VK Solutions branding\r\n    doc.setFillColor(102, 126, 234); // VK brand color\r\n    doc.rect(0, 0, 210, 25, 'F');\r\n    \r\n    // VK Solutions logo area (placeholder)\r\n    doc.setTextColor(255, 255, 255);\r\n    doc.setFontSize(16);\r\n    doc.setFont('helvetica', 'bold');\r\n    doc.text('VK Solutions', 15, 12);\r\n    doc.setFontSize(10);\r\n    doc.setFont('helvetica', 'normal');\r\n    doc.text('Professional Software Development', 15, 18);\r\n    \r\n    // Contact details on right\r\n    doc.text('+91 9689517133', 160, 12);\r\n    doc.text('vikas4kale@gmail.com', 160, 18);\r\n    \r\n    // Hotel information\r\n    doc.setTextColor(0, 0, 0);\r\n    doc.setFontSize(18);\r\n    doc.setFont('helvetica', 'bold');\r\n    doc.text(`${user?.hotelName || 'Hotel'} - Bill History Report`, 15, 40);\r\n    \r\n    // Date and statistics\r\n    doc.setFontSize(12);\r\n    doc.setFont('helvetica', 'normal');\r\n    const currentDate = new Date().toLocaleDateString();\r\n    doc.text(`Export Date: ${currentDate}`, 15, 50);\r\n    doc.text(`Total Bills: ${statistics.totalBills}`, 15, 58);\r\n    doc.text(`Total Revenue: â‚¹${statistics.totalRevenue?.toFixed(2) || '0.00'}`, 15, 66);\r\n    doc.text(`Today's Bills: ${statistics.todaysBills}`, 110, 58);\r\n    doc.text(`Today's Revenue: â‚¹${statistics.todaysRevenue?.toFixed(2) || '0.00'}`, 110, 66);\r\n    \r\n    // Prepare table data\r\n    const tableData = bills.map(bill => [\r\n        bill.billNumber,\r\n        bill.date,\r\n        bill.customerInfo?.name || '-',\r\n        bill.customerInfo?.tableNumber || '-',\r\n        `â‚¹${bill.total?.toFixed(2) || '0.00'}`,\r\n        `â‚¹${bill.paymentInfo?.jama?.toFixed(2) || '0.00'}`,\r\n        `â‚¹${bill.paymentInfo?.baki?.toFixed(2) || bill.total?.toFixed(2) || '0.00'}`\r\n    ]);\r\n    \r\n    // Add table\r\n    doc.autoTable({\r\n        head: [['Bill No.', 'Date', 'Customer', 'Table', 'Total Amount', 'Received (Jama)', 'Balance (Baki)']],\r\n        body: tableData,\r\n        startY: 75,\r\n        styles: {\r\n            fontSize: 9,\r\n            cellPadding: 3,\r\n        },\r\n        headStyles: {\r\n            fillColor: [102, 126, 234],\r\n            textColor: [255, 255, 255],\r\n            fontStyle: 'bold'\r\n        },\r\n        alternateRowStyles: {\r\n            fillColor: [248, 249, 250]\r\n        },\r\n        columnStyles: {\r\n            4: { halign: 'right' }, // Total Amount\r\n            5: { halign: 'right' }, // Jama\r\n            6: { halign: 'right', textColor: [220, 53, 69] } // Baki (red for pending)\r\n        }\r\n    });\r\n    \r\n    // Footer\r\n    const pageCount = doc.internal.getNumberOfPages();\r\n    for (let i = 1; i <= pageCount; i++) {\r\n        doc.setPage(i);\r\n        \r\n        // Add footer\r\n        doc.setFontSize(8);\r\n        doc.setTextColor(128, 128, 128);\r\n        doc.text('Generated by VK Solutions Hotel Management System', 15, 285);\r\n        doc.text(`Page ${i} of ${pageCount}`, 180, 285);\r\n        \r\n        // Add timestamp\r\n        const timestamp = new Date().toLocaleString();\r\n        doc.text(`Generated on: ${timestamp}`, 15, 290);\r\n    }\r\n    \r\n    return doc;\r\n};\r\n\r\n// Export single bill to PDF\r\nexport const exportSingleBillToPDF = (bill) => {\r\n    const user = getCurrentUser();\r\n    \r\n    // Create new PDF document\r\n    const doc = new jsPDF();\r\n    \r\n    // Set up fonts and colors\r\n    doc.setFont('helvetica');\r\n    \r\n    // Header with VK Solutions branding\r\n    doc.setFillColor(102, 126, 234);\r\n    doc.rect(0, 0, 210, 25, 'F');\r\n    \r\n    // VK Solutions branding\r\n    doc.setTextColor(255, 255, 255);\r\n    doc.setFontSize(14);\r\n    doc.setFont('helvetica', 'bold');\r\n    doc.text('VK Solutions', 15, 12);\r\n    doc.setFontSize(9);\r\n    doc.setFont('helvetica', 'normal');\r\n    doc.text('Professional Software Development', 15, 18);\r\n    doc.text('+91 9689517133 | vikas4kale@gmail.com', 15, 22);\r\n    \r\n    // Hotel name and bill info\r\n    doc.setTextColor(0, 0, 0);\r\n    doc.setFontSize(20);\r\n    doc.setFont('helvetica', 'bold');\r\n    doc.text(`${user?.hotelName || 'Hotel'}`, 15, 40);\r\n    \r\n    doc.setFontSize(16);\r\n    doc.text(`Bill Receipt - ${bill.billNumber}`, 15, 50);\r\n    \r\n    // Bill details\r\n    doc.setFontSize(12);\r\n    doc.setFont('helvetica', 'normal');\r\n    doc.text(`Date: ${bill.date}`, 15, 65);\r\n    doc.text(`Time: ${bill.time}`, 15, 72);\r\n    \r\n    // Customer information\r\n    if (bill.customerInfo?.name || bill.customerInfo?.tableNumber || bill.customerInfo?.phoneNumber) {\r\n        doc.setFont('helvetica', 'bold');\r\n        doc.text('Customer Information:', 15, 85);\r\n        doc.setFont('helvetica', 'normal');\r\n        \r\n        let yPos = 92;\r\n        if (bill.customerInfo?.name) {\r\n            doc.text(`Name: ${bill.customerInfo.name}`, 15, yPos);\r\n            yPos += 7;\r\n        }\r\n        if (bill.customerInfo?.tableNumber) {\r\n            doc.text(`Table: ${bill.customerInfo.tableNumber}`, 15, yPos);\r\n            yPos += 7;\r\n        }\r\n        if (bill.customerInfo?.phoneNumber) {\r\n            doc.text(`Phone: ${bill.customerInfo.phoneNumber}`, 15, yPos);\r\n            yPos += 7;\r\n        }\r\n    }\r\n    \r\n    // Items table\r\n    const itemsData = bill.items.map(item => [\r\n        item.name,\r\n        `â‚¹${item.rate}`,\r\n        item.quantity.toString(),\r\n        `â‚¹${(item.rate * item.quantity).toFixed(2)}`\r\n    ]);\r\n    \r\n    doc.autoTable({\r\n        head: [['Item', 'Rate', 'Qty', 'Amount']],\r\n        body: itemsData,\r\n        startY: 110,\r\n        styles: {\r\n            fontSize: 10,\r\n            cellPadding: 4,\r\n        },\r\n        headStyles: {\r\n            fillColor: [102, 126, 234],\r\n            textColor: [255, 255, 255],\r\n            fontStyle: 'bold'\r\n        },\r\n        columnStyles: {\r\n            1: { halign: 'right' },\r\n            2: { halign: 'center' },\r\n            3: { halign: 'right' }\r\n        }\r\n    });\r\n    \r\n    // Bill summary\r\n    const finalY = doc.lastAutoTable.finalY + 10;\r\n    \r\n    doc.setFont('helvetica', 'normal');\r\n    doc.text(`Subtotal: â‚¹${bill.subtotal?.toFixed(2) || '0.00'}`, 130, finalY);\r\n    doc.text(`GST (18%): â‚¹${bill.tax?.toFixed(2) || '0.00'}`, 130, finalY + 7);\r\n    \r\n    doc.setFont('helvetica', 'bold');\r\n    doc.setFontSize(14);\r\n    doc.text(`Total: â‚¹${bill.total?.toFixed(2) || '0.00'}`, 130, finalY + 17);\r\n    \r\n    // Payment information\r\n    if (bill.paymentInfo) {\r\n        doc.setFontSize(12);\r\n        doc.text(`Received (Jama): â‚¹${bill.paymentInfo.jama?.toFixed(2) || '0.00'}`, 130, finalY + 27);\r\n        \r\n        const baki = bill.paymentInfo.baki || 0;\r\n        if (baki > 0) {\r\n            doc.setTextColor(220, 53, 69); // Red for pending balance\r\n        } else {\r\n            doc.setTextColor(40, 167, 69); // Green for fully paid\r\n        }\r\n        doc.text(`Balance (Baki): â‚¹${baki.toFixed(2)}`, 130, finalY + 34);\r\n    }\r\n    \r\n    // Thank you message\r\n    doc.setTextColor(0, 0, 0);\r\n    doc.setFontSize(10);\r\n    doc.setFont('helvetica', 'italic');\r\n    doc.text(`Thank you for visiting ${user?.hotelName || 'our hotel'}!`, 15, finalY + 50);\r\n    \r\n    // Footer\r\n    doc.setFontSize(8);\r\n    doc.setTextColor(128, 128, 128);\r\n    doc.text('Powered by VK Solutions Hotel Management System', 15, 280);\r\n    const timestamp = new Date().toLocaleString();\r\n    doc.text(`Generated: ${timestamp}`, 15, 285);\r\n    \r\n    return doc;\r\n};\r\nexport const exportBillHistory = () => {\r\n    const bills = getBillHistory();\r\n    const user = getCurrentUser();\r\n    \r\n    const exportData = {\r\n        hotelName: user?.hotelName,\r\n        exportDate: new Date().toISOString(),\r\n        totalBills: bills.length,\r\n        bills: bills\r\n    };\r\n    \r\n    return JSON.stringify(exportData, null, 2);\r\n};\r\n\r\n// Print single bill (for browser print)\r\nexport const printSingleBill = (bill) => {\r\n    const user = getCurrentUser();\r\n    \r\n    // Create a new window for printing\r\n    const printWindow = window.open('', '_blank');\r\n    \r\n    const printContent = `\r\n    <!DOCTYPE html>\r\n    <html>\r\n    <head>\r\n        <title>Bill ${bill.billNumber} - ${user?.hotelName || 'Hotel'}</title>\r\n        <style>\r\n            body {\r\n                font-family: Arial, sans-serif;\r\n                margin: 20px;\r\n                color: #333;\r\n            }\r\n            .header {\r\n                text-align: center;\r\n                border-bottom: 2px solid #667eea;\r\n                padding-bottom: 15px;\r\n                margin-bottom: 20px;\r\n            }\r\n            .vk-branding {\r\n                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n                color: white;\r\n                padding: 10px;\r\n                margin: -20px -20px 20px -20px;\r\n                font-size: 12px;\r\n            }\r\n            .hotel-name {\r\n                font-size: 24px;\r\n                font-weight: bold;\r\n                color: #2c3e50;\r\n                margin: 10px 0;\r\n            }\r\n            .bill-info {\r\n                display: flex;\r\n                justify-content: space-between;\r\n                margin-bottom: 20px;\r\n                border-bottom: 1px solid #ddd;\r\n                padding-bottom: 10px;\r\n            }\r\n            .customer-info {\r\n                margin-bottom: 20px;\r\n                background: #f8f9fa;\r\n                padding: 15px;\r\n                border-radius: 5px;\r\n            }\r\n            table {\r\n                width: 100%;\r\n                border-collapse: collapse;\r\n                margin-bottom: 20px;\r\n            }\r\n            th, td {\r\n                border: 1px solid #ddd;\r\n                padding: 8px;\r\n                text-align: left;\r\n            }\r\n            th {\r\n                background-color: #667eea;\r\n                color: white;\r\n                font-weight: bold;\r\n            }\r\n            .amount-col {\r\n                text-align: right;\r\n            }\r\n            .bill-summary {\r\n                text-align: right;\r\n                font-size: 14px;\r\n            }\r\n            .total-row {\r\n                font-size: 18px;\r\n                font-weight: bold;\r\n                color: #2c3e50;\r\n                border-top: 2px solid #667eea;\r\n                padding-top: 10px;\r\n                margin-top: 10px;\r\n            }\r\n            .payment-info {\r\n                background: #e8f4fd;\r\n                padding: 15px;\r\n                border-radius: 5px;\r\n                margin: 15px 0;\r\n                border: 1px solid #0066cc;\r\n            }\r\n            .footer {\r\n                text-align: center;\r\n                margin-top: 30px;\r\n                font-size: 12px;\r\n                color: #666;\r\n            }\r\n            @media print {\r\n                body { margin: 0; }\r\n                .vk-branding { margin: 0; }\r\n            }\r\n        </style>\r\n    </head>\r\n    <body>\r\n        <div class=\"vk-branding\">\r\n            <div style=\"display: flex; justify-content: space-between; align-items: center;\">\r\n                <div>\r\n                    <strong>VK Solutions</strong> - Professional Software Development\r\n                </div>\r\n                <div>\r\n                    ðŸ“± +91 9689517133 | ðŸ“§ vikas4kale@gmail.com\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"header\">\r\n            <div class=\"hotel-name\">${user?.hotelName || 'Hotel'}</div>\r\n            <div>Bill Receipt</div>\r\n        </div>\r\n\r\n        <div class=\"bill-info\">\r\n            <div><strong>Bill No:</strong> ${bill.billNumber}</div>\r\n            <div><strong>Date:</strong> ${bill.date}</div>\r\n            <div><strong>Time:</strong> ${bill.time}</div>\r\n        </div>\r\n\r\n        ${(bill.customerInfo?.name || bill.customerInfo?.tableNumber || bill.customerInfo?.phoneNumber) ? `\r\n        <div class=\"customer-info\">\r\n            <h3>Customer Information</h3>\r\n            ${bill.customerInfo?.name ? `<p><strong>Name:</strong> ${bill.customerInfo.name}</p>` : ''}\r\n            ${bill.customerInfo?.tableNumber ? `<p><strong>Table:</strong> ${bill.customerInfo.tableNumber}</p>` : ''}\r\n            ${bill.customerInfo?.phoneNumber ? `<p><strong>Phone:</strong> ${bill.customerInfo.phoneNumber}</p>` : ''}\r\n        </div>\r\n        ` : ''}\r\n\r\n        <table>\r\n            <thead>\r\n                <tr>\r\n                    <th>Item</th>\r\n                    <th>Rate</th>\r\n                    <th>Qty</th>\r\n                    <th class=\"amount-col\">Amount</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                ${bill.items.map(item => `\r\n                    <tr>\r\n                        <td>${item.name}</td>\r\n                        <td>â‚¹${item.rate}</td>\r\n                        <td>${item.quantity}</td>\r\n                        <td class=\"amount-col\">â‚¹${(item.rate * item.quantity).toFixed(2)}</td>\r\n                    </tr>\r\n                `).join('')}\r\n            </tbody>\r\n        </table>\r\n\r\n        <div class=\"bill-summary\">\r\n            <div>Subtotal: â‚¹${bill.subtotal?.toFixed(2) || '0.00'}</div>\r\n            <div>GST (18%): â‚¹${bill.tax?.toFixed(2) || '0.00'}</div>\r\n            <div class=\"total-row\">Total: â‚¹${bill.total?.toFixed(2) || '0.00'}</div>\r\n        </div>\r\n\r\n        ${bill.paymentInfo ? `\r\n        <div class=\"payment-info\">\r\n            <h3>Payment Information</h3>\r\n            <div style=\"display: flex; justify-content: space-between;\">\r\n                <span>Received (à¤œà¤®à¤¾):</span>\r\n                <span>â‚¹${bill.paymentInfo.jama?.toFixed(2) || '0.00'}</span>\r\n            </div>\r\n            <div style=\"display: flex; justify-content: space-between; margin-top: 10px; font-weight: bold; color: ${(bill.paymentInfo.baki || 0) > 0 ? '#dc3545' : '#28a745'};\">\r\n                <span>Balance (à¤¬à¤¾à¤•à¥€):</span>\r\n                <span>â‚¹${(bill.paymentInfo.baki || bill.total || 0).toFixed(2)}</span>\r\n            </div>\r\n        </div>\r\n        ` : ''}\r\n\r\n        <div class=\"footer\">\r\n            <p>Thank you for visiting ${user?.hotelName || 'our hotel'}!</p>\r\n            <p>Powered by VK Solutions Hotel Management System</p>\r\n        </div>\r\n\r\n        <script>\r\n            window.onload = function() {\r\n                window.print();\r\n                window.onafterprint = function() {\r\n                    window.close();\r\n                };\r\n            };\r\n        </script>\r\n    </body>\r\n    </html>\r\n    `;\r\n    \r\n    printWindow.document.write(printContent);\r\n    printWindow.document.close();\r\n    \r\n    return true;\r\n};"],"mappings":"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AM,CAACC,IAAI,CAAC,EAAE,EAAE,QAAQ,CAAC;EAE7C,MAAMC,YAAY,GAAG;AACzB;AACA;AACA;AACA,sBAAsB9G,IAAI,CAAC7B,UAAU,MAAM,CAAAL,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEgB,SAAS,KAAI,OAAO;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,CAAAhB,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEgB,SAAS,KAAI,OAAO;AAChE;AACA;AACA;AACA;AACA,6CAA6CkB,IAAI,CAAC7B,UAAU;AAC5D,0CAA0C6B,IAAI,CAAC5B,IAAI;AACnD,0CAA0C4B,IAAI,CAAC3B,IAAI;AACnD;AACA;AACA,UAAW,CAAA4H,mBAAA,GAAAjG,IAAI,CAAC1B,YAAY,cAAA2H,mBAAA,eAAjBA,mBAAA,CAAmBtF,IAAI,KAAAuF,mBAAA,GAAIlG,IAAI,CAAC1B,YAAY,cAAA4H,mBAAA,eAAjBA,mBAAA,CAAmB/C,WAAW,KAAAgD,oBAAA,GAAInG,IAAI,CAAC1B,YAAY,cAAA6H,oBAAA,eAAjBA,oBAAA,CAAmBnB,WAAW,GAAI;AAC1G;AACA;AACA,cAAc,CAAAoB,oBAAA,GAAApG,IAAI,CAAC1B,YAAY,cAAA8H,oBAAA,eAAjBA,oBAAA,CAAmBzF,IAAI,GAAG,6BAA6BX,IAAI,CAAC1B,YAAY,CAACqC,IAAI,MAAM,GAAG,EAAE;AACtG,cAAc,CAAA0F,oBAAA,GAAArG,IAAI,CAAC1B,YAAY,cAAA+H,oBAAA,eAAjBA,oBAAA,CAAmBlD,WAAW,GAAG,8BAA8BnD,IAAI,CAAC1B,YAAY,CAAC6E,WAAW,MAAM,GAAG,EAAE;AACrH,cAAc,CAAAmD,oBAAA,GAAAtG,IAAI,CAAC1B,YAAY,cAAAgI,oBAAA,eAAjBA,oBAAA,CAAmBtB,WAAW,GAAG,8BAA8BhF,IAAI,CAAC1B,YAAY,CAAC0G,WAAW,MAAM,GAAG,EAAE;AACrH;AACA,SAAS,GAAG,EAAE;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkBhF,IAAI,CAACzB,KAAK,CAAC6B,GAAG,CAACkF,IAAI,IAAI;AACzC;AACA,8BAA8BA,IAAI,CAAC3E,IAAI;AACvC,+BAA+B2E,IAAI,CAACC,IAAI;AACxC,8BAA8BD,IAAI,CAACE,QAAQ;AAC3C,kDAAkD,CAACF,IAAI,CAACC,IAAI,GAAGD,IAAI,CAACE,QAAQ,EAAE/C,OAAO,CAAC,CAAC,CAAC;AACxF;AACA,iBAAiB,CAAC,CAACsE,IAAI,CAAC,EAAE,CAAC;AAC3B;AACA;AACA;AACA;AACA,8BAA8B,EAAAR,eAAA,GAAAvG,IAAI,CAACxB,QAAQ,cAAA+H,eAAA,uBAAbA,eAAA,CAAe9D,OAAO,CAAC,CAAC,CAAC,KAAI,MAAM;AACjE,+BAA+B,EAAA+D,UAAA,GAAAxG,IAAI,CAACvB,GAAG,cAAA+H,UAAA,uBAARA,UAAA,CAAU/D,OAAO,CAAC,CAAC,CAAC,KAAI,MAAM;AAC7D,6CAA6C,EAAAgE,YAAA,GAAAzG,IAAI,CAACtB,KAAK,cAAA+H,YAAA,uBAAVA,YAAA,CAAYhE,OAAO,CAAC,CAAC,CAAC,KAAI,MAAM;AAC7E;AACA;AACA,UAAUzC,IAAI,CAACrB,WAAW,GAAG;AAC7B;AACA;AACA;AACA;AACA,yBAAyB,EAAA+H,sBAAA,GAAA1G,IAAI,CAACrB,WAAW,CAACC,IAAI,cAAA8H,sBAAA,uBAArBA,sBAAA,CAAuBjE,OAAO,CAAC,CAAC,CAAC,KAAI,MAAM;AACpE;AACA,qHAAqH,CAACzC,IAAI,CAACrB,WAAW,CAACE,IAAI,IAAI,CAAC,IAAI,CAAC,GAAG,SAAS,GAAG,SAAS;AAC7K;AACA,yBAAyB,CAACmB,IAAI,CAACrB,WAAW,CAACE,IAAI,IAAImB,IAAI,CAACtB,KAAK,IAAI,CAAC,EAAE+D,OAAO,CAAC,CAAC,CAAC;AAC9E;AACA;AACA,SAAS,GAAG,EAAE;AACd;AACA;AACA,wCAAwC,CAAA3E,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEgB,SAAS,KAAI,WAAW;AACtE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;EAED6H,WAAW,CAACK,QAAQ,CAACC,KAAK,CAACH,YAAY,CAAC;EACxCH,WAAW,CAACK,QAAQ,CAACE,KAAK,CAAC,CAAC;EAE5B,OAAO,IAAI;AACf,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
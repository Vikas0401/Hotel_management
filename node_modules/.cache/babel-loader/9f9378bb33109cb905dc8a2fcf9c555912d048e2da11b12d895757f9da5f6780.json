{"ast":null,"code":"import React,{useState,useEffect}from'react';import{BrowserRouter as Router,Routes,Route}from'react-router-dom';import HomePage from'./pages/HomePage';import LoginPage from'./pages/LoginPage';import MenuPage from'./pages/MenuPage';import BillPage from'./pages/BillPage';import BillHistoryPage from'./pages/BillHistoryPage';import Header from'./components/common/Header';import Footer from'./components/common/Footer';import{isAuthenticated as checkAuth,getCurrentUser}from'./services/authService';import'./styles/MatoshreeTheme.css';import'./styles/MarathiFonts.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const App=()=>{const[isAuthenticated,setIsAuthenticated]=useState(false);const[currentUser,setCurrentUser]=useState(null);useEffect(()=>{// Check if user is already logged in when app loads\nconst authStatus=checkAuth();setIsAuthenticated(authStatus);if(authStatus){setCurrentUser(getCurrentUser());}},[]);const handleLogin=()=>{setIsAuthenticated(true);setCurrentUser(getCurrentUser());};const handleLogout=()=>{setIsAuthenticated(false);setCurrentUser(null);localStorage.removeItem('user');};// Apply Matoshree theme if user is from Matoshree hotel\nconst shouldApplyMatoshreeTheme=isAuthenticated&&(currentUser===null||currentUser===void 0?void 0:currentUser.hotelId)==='matoshree';return/*#__PURE__*/_jsx(\"div\",{className:\"app-container \".concat(shouldApplyMatoshreeTheme?'matoshree-theme theme-transition':'theme-transition'),children:/*#__PURE__*/_jsxs(Router,{children:[/*#__PURE__*/_jsx(Header,{isAuthenticated:isAuthenticated,onLogout:handleLogout}),/*#__PURE__*/_jsx(\"main\",{className:\"main-content\",children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:isAuthenticated?/*#__PURE__*/_jsx(HomePage,{}):/*#__PURE__*/_jsx(LoginPage,{onLogin:handleLogin})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(LoginPage,{onLogin:handleLogin})}),/*#__PURE__*/_jsx(Route,{path:\"/home\",element:isAuthenticated?/*#__PURE__*/_jsx(HomePage,{}):/*#__PURE__*/_jsx(LoginPage,{onLogin:handleLogin})}),/*#__PURE__*/_jsx(Route,{path:\"/menu\",element:isAuthenticated?/*#__PURE__*/_jsx(MenuPage,{}):/*#__PURE__*/_jsx(LoginPage,{onLogin:handleLogin})}),/*#__PURE__*/_jsx(Route,{path:\"/bill\",element:isAuthenticated?/*#__PURE__*/_jsx(BillPage,{}):/*#__PURE__*/_jsx(LoginPage,{onLogin:handleLogin})}),/*#__PURE__*/_jsx(Route,{path:\"/bill-history\",element:isAuthenticated?/*#__PURE__*/_jsx(BillHistoryPage,{}):/*#__PURE__*/_jsx(LoginPage,{onLogin:handleLogin})})]})}),/*#__PURE__*/_jsx(Footer,{})]})});};export default App;","map":{"version":3,"names":["React","useState","useEffect","BrowserRouter","Router","Routes","Route","HomePage","LoginPage","MenuPage","BillPage","BillHistoryPage","Header","Footer","isAuthenticated","checkAuth","getCurrentUser","jsx","_jsx","jsxs","_jsxs","App","setIsAuthenticated","currentUser","setCurrentUser","authStatus","handleLogin","handleLogout","localStorage","removeItem","shouldApplyMatoshreeTheme","hotelId","className","concat","children","onLogout","path","element","onLogin"],"sources":["C:/Users/vkale/Documents/Vikas/Hotel_managenment/Hotel_management/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { BrowserRouter as Router, Routes, Route } from 'react-router-dom';\nimport HomePage from './pages/HomePage';\nimport LoginPage from './pages/LoginPage';\nimport MenuPage from './pages/MenuPage';\nimport BillPage from './pages/BillPage';\nimport BillHistoryPage from './pages/BillHistoryPage';\nimport Header from './components/common/Header';\nimport Footer from './components/common/Footer';\nimport { isAuthenticated as checkAuth, getCurrentUser } from './services/authService';\nimport './styles/MatoshreeTheme.css';\nimport './styles/MarathiFonts.css';\n\nconst App = () => {\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [currentUser, setCurrentUser] = useState(null);\n\n  useEffect(() => {\n    // Check if user is already logged in when app loads\n    const authStatus = checkAuth();\n    setIsAuthenticated(authStatus);\n    if (authStatus) {\n      setCurrentUser(getCurrentUser());\n    }\n  }, []);\n\n  const handleLogin = () => {\n    setIsAuthenticated(true);\n    setCurrentUser(getCurrentUser());\n  };\n\n  const handleLogout = () => {\n    setIsAuthenticated(false);\n    setCurrentUser(null);\n    localStorage.removeItem('user');\n  };\n\n  // Apply Matoshree theme if user is from Matoshree hotel\n  const shouldApplyMatoshreeTheme = isAuthenticated && currentUser?.hotelId === 'matoshree';\n\n  return (\n    <div className={`app-container ${shouldApplyMatoshreeTheme ? 'matoshree-theme theme-transition' : 'theme-transition'}`}>\n      <Router>\n        <Header isAuthenticated={isAuthenticated} onLogout={handleLogout} />\n        <main className=\"main-content\">\n          <Routes>\n            <Route path=\"/\" element={isAuthenticated ? <HomePage /> : <LoginPage onLogin={handleLogin} />} />\n            <Route path=\"/login\" element={<LoginPage onLogin={handleLogin} />} />\n            <Route path=\"/home\" element={isAuthenticated ? <HomePage /> : <LoginPage onLogin={handleLogin} />} />\n            <Route path=\"/menu\" element={isAuthenticated ? <MenuPage /> : <LoginPage onLogin={handleLogin} />} />\n            <Route path=\"/bill\" element={isAuthenticated ? <BillPage /> : <LoginPage onLogin={handleLogin} />} />\n            <Route path=\"/bill-history\" element={isAuthenticated ? <BillHistoryPage /> : <LoginPage onLogin={handleLogin} />} />\n          </Routes>\n        </main>\n        <Footer />\n      </Router>\n    </div>\n  );\n};\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}